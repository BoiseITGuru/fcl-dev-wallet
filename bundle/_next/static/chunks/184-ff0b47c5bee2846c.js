(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[184],{9046:function(e,t,n){"use strict";n.r(t),n.d(t,{AppUtils:function(){return Nc},TestUtils:function(){return iu},VERSION:function(){return za},WalletUtils:function(){return _c},account:function(){return Oi},arg:function(){return Wi},args:function(){return zi},atBlockHeight:function(){return Ci},atBlockId:function(){return _i},authenticate:function(){return Qc},authorization:function(){return xi},authorizations:function(){return Ui},authz:function(){return of},block:function(){return Bi},build:function(){return oo},cadence:function(){return Un},cdc:function(){return Un},config:function(){return H},createSignableVoucher:function(){return ci},currentUser:function(){return pc},decode:function(){return Ai},discovery:function(){return Zc},display:function(){return Ke},events:function(){return Wc},getAccount:function(){return ao},getBlock:function(){return uo},getBlockHeader:function(){return Fi},getCollection:function(){return Gi},getEvents:function(){return ji},getEventsAtBlockHeightRange:function(){return Ni},getEventsAtBlockIds:function(){return Li},getTransaction:function(){return Mi},getTransactionStatus:function(){return Di},invariant:function(){return Pi},isBad:function(){return Jr},isOk:function(){return Vr},limit:function(){return Yi},logIn:function(){return rf},mutate:function(){return Sc},param:function(){return au},params:function(){return uu},payer:function(){return Hi},ping:function(){return Ki},pipe:function(){return Zr},proposer:function(){return qi},query:function(){return Qa},reauthenticate:function(){return tf},ref:function(){return Vi},sansPrefix:function(){return qe},script:function(){return Ji},send:function(){return Ri},serialize:function(){return Fc},signUp:function(){return nf},t:function(){return uf},transaction:function(){return Xi},tx:function(){return Ic},unauthenticate:function(){return ef},validator:function(){return Ti},verifyUserSignatures:function(){return Lc},voucherIntercept:function(){return Zi},voucherToTxId:function(){return fi},why:function(){return $r},withPrefix:function(){return He}});var r={};n.r(r),n.d(r,{Address:function(){return _a},Array:function(){return xa},Bool:function(){return Ca},Character:function(){return Ta},Dictionary:function(){return ja},Event:function(){return Na},Fix64:function(){return Aa},Identity:function(){return ia},Int:function(){return aa},Int128:function(){return ma},Int16:function(){return la},Int256:function(){return ba},Int32:function(){return ha},Int64:function(){return va},Int8:function(){return ca},Optional:function(){return Ba},Path:function(){return Ga},Reference:function(){return Ua},Resource:function(){return La},String:function(){return ka},Struct:function(){return Fa},UFix64:function(){return Ra},UInt:function(){return ua},UInt128:function(){return ya},UInt16:function(){return fa},UInt256:function(){return ga},UInt32:function(){return da},UInt64:function(){return pa},UInt8:function(){return sa},Void:function(){return Oa},Word16:function(){return wa},Word32:function(){return Ia},Word64:function(){return Sa},Word8:function(){return Ea},_Array:function(){return xa}});var o=n(4375),i=n.n(o);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c=function(){var e,t=[];return{deliver:function(n){try{return t.push(n),e&&(e(t.shift()),e=void 0),Promise.resolve()}catch(r){return Promise.reject(r)}},receive:function(){return new Promise((function(n){var r=t.shift();if(r)return n(r);e=n}))}}};function f(e,t,n){if(!e.s){if(n instanceof l){if(!n.s)return void(n.o=f.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(f.bind(null,e,t),f.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var l=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,o=this.s;if(o){var i=1&o?t:n;if(i){try{f(r,1,i(this.v))}catch(u){f(r,2,u)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?f(r,1,t?t(o):o):n?f(r,1,n(o)):f(r,2,o)}catch(u){f(r,2,u)}},r},e}();function d(e){return e instanceof l&&1&e.s}function h(e,t,n){for(var r;;){var o=e();if(d(o)&&(o=o.v),!o)return i;if(o.then){r=0;break}var i=n();if(i&&i.then){if(!d(i)){r=1;break}i=i.s}if(t){var u=t();if(u&&u.then&&!d(u)){r=2;break}}}var a=new l,s=f.bind(null,a,2);return(0===r?o.then(h):1===r?i.then(c):u.then(p)).then(void 0,s),a;function c(r){i=r;do{if(t&&(u=t())&&u.then&&!d(u))return void u.then(p).then(void 0,s);if(!(o=e())||d(o)&&!o.v)return void f(a,1,i);if(o.then)return void o.then(h).then(void 0,s);d(i=n())&&(i=i.v)}while(!i||!i.then);i.then(c).then(void 0,s)}function h(e){e?(i=n())&&i.then?i.then(c).then(void 0,s):c(i):f(a,1,i)}function p(){(o=e())?o.then?o.then(h).then(void 0,s):h(o):f(a,1,i)}}var p="SUBSCRIBE",v="UNSUBSCRIBE",y="UPDATED",m="SNAPSHOT",g="object"===typeof self&&self.self===self&&self||"object"===typeof n.g&&n.g.global===n.g&&n.g||"object"===typeof window&&window.window===window&&window;g.FCL_REGISTRY=null==g.FCL_REGISTRY?{}:g.FCL_REGISTRY;var b=0,E=function(e,t,n,r){return void 0===r&&(r={}),new Promise((function(o,i){var u=r.expectReply||!1,a=null!=r.timeout?r.timeout:5e3;u&&a&&setTimeout((function(){return i(new Error("Timeout: "+a+"ms passed without a response."))}),a);var s={to:e,from:r.from,tag:t,data:n,timeout:a,reply:o,reject:i};try{g.FCL_REGISTRY[e]&&g.FCL_REGISTRY[e].mailbox.deliver(s),u||o(!0)}catch(c){console.error("FCL.Actor -- Could Not Deliver Message",s,g.FCL_REGISTRY[e],c)}}))},w=function(e,t){if(void 0===t&&(t=null),null==t&&(t=++b),null!=g.FCL_REGISTRY[t])return t;g.FCL_REGISTRY[t]={addr:t,mailbox:c(),subs:new Set,kvs:{},error:null};var n,r={self:function(){return t},receive:function(){return g.FCL_REGISTRY[t].mailbox.receive()},send:function(e,n,r,o){return void 0===o&&(o={}),o.from=t,E(e,n,r,o)},sendSelf:function(e,n,r){g.FCL_REGISTRY[t]&&E(t,e,n,r)},broadcast:function(e,n,r){void 0===r&&(r={}),r.from=t;for(var o,i=s(g.FCL_REGISTRY[t].subs);!(o=i()).done;){var u=o.value;E(u,e,n,r)}},subscribe:function(e){return null!=e&&g.FCL_REGISTRY[t].subs.add(e)},unsubscribe:function(e){return null!=e&&g.FCL_REGISTRY[t].subs.delete(e)},subscriberCount:function(){return g.FCL_REGISTRY[t].subs.size},hasSubs:function(){return!!g.FCL_REGISTRY[t].subs.size},put:function(e,n){null!=e&&(g.FCL_REGISTRY[t].kvs[e]=n)},get:function(e,n){var r=g.FCL_REGISTRY[t].kvs[e];return null==r?n:r},delete:function(e){delete g.FCL_REGISTRY[t].kvs[e]},update:function(e,n){null!=e&&(g.FCL_REGISTRY[t].kvs[e]=n(g.FCL_REGISTRY[t].kvs[e]))},keys:function(){return Object.keys(g.FCL_REGISTRY[t].kvs)},all:function(){return g.FCL_REGISTRY[t].kvs},where:function(e){return Object.keys(g.FCL_REGISTRY[t].kvs).reduce((function(n,r){var o;return e.test(r)?u({},n,((o={})[r]=g.FCL_REGISTRY[t].kvs[r],o)):n}),{})},merge:function(e){void 0===e&&(e={}),Object.keys(e).forEach((function(n){return g.FCL_REGISTRY[t].kvs[n]=e[n]}))},fatalError:function(e){g.FCL_REGISTRY[t].error=e;for(var n,r=s(g.FCL_REGISTRY[t].subs);!(n=r()).done;){var o=n.value;E(o,y)}}};return"object"===typeof e&&(void 0===(n=e)&&(n={}),e=function(e){try{var t=function(){var t,r=h((function(){return!t&&1}),void 0,(function(){return Promise.resolve(e.receive()).then((function(r){var o=function(e,t){try{var n=e()}catch(r){return t(!0,r)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,n)}((function(){return function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){function o(){return Promise.resolve(n[r.tag](e,r,r.data||{})).then((function(){}))}var i=function(){if("EXIT"===r.tag){var o=function(){t=1},i=function(){if("function"===typeof n.TERMINATE)return Promise.resolve(n.TERMINATE(e,r,r.data||{})).then((function(){}))}();return i&&i.then?i.then(o):o()}}();return i&&i.then?i.then(o):o()}),(function(t){console.error(e.self()+" Error",r,t)}))}),(function(e,t){}));if(o&&o.then)return o.then((function(){}))}))})),o=function(){if(r&&r.then)return r.then((function(){}))}();if(o&&o.then)return o.then((function(){}))},r=function(){if("function"===typeof n.INIT)return Promise.resolve(n.INIT(e)).then((function(){}))}();return Promise.resolve(r&&r.then?r.then(t):t())}catch(o){return Promise.reject(o)}}),i()((function(){try{return Promise.resolve(e(r)).then((function(){!function(e){delete g.FCL_REGISTRY[e]}(t)}))}catch(n){return Promise.reject(n)}})),t};function I(e,t,n){t(e);var r="@EXIT",o=w((function(t){try{var o;return t.send(e,p),Promise.resolve(h((function(){return!o&&1}),void 0,(function(){return Promise.resolve(t.receive()).then((function(i){var u=g.FCL_REGISTRY[e].error;return i.tag===r?(t.send(e,v),void(o=1)):u?(n(null,u),t.send(e,v),void(o=1)):void n(i.data,null)}))})))}catch(i){return Promise.reject(i)}}));return function(){return E(o,r)}}function S(e,t){return t(e),E(e,m,null,{expectReply:!0,timeout:0})}function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}var R;"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var A=function e(t,n){void 0===t&&(t=[]);try{if(!t.length)return Promise.resolve(n);var r=t,o=r[0],i=r.slice(1);return Promise.resolve(G(o)).then((function(t){return null==t?e(i,n):t}))}catch(u){return Promise.reject(u)}},k="config",T="PUT_CONFIG",C="GET_CONFIG",_="GET_ALL_CONFIG",O="UPDATE_CONFIG",B="DELETE_CONFIG",U="CLEAR_CONFIG",x="WHERE_CONFIG",j="CONFIG/UPDATED",N=function(e){return e},L=((R={})[T]=function(e,t,n){var r=n.key,o=n.value;if(null==r)throw new Error("Missing 'key' for config/put.");e.put(r,o),e.broadcast(j,P({},e.all()))},R[C]=function(e,t,n){var r=n.key,o=n.fallback;if(null==r)throw new Error("Missing 'key' for config/get");t.reply(e.get(r,o))},R[_]=function(e,t){t.reply(P({},e.all()))},R[O]=function(e,t,n){var r=n.key,o=n.fn;if(null==r)throw new Error("Missing 'key' for config/update");e.update(r,o||N),e.broadcast(j,P({},e.all()))},R[B]=function(e,t,n){var r=n.key;if(null==r)throw new Error("Missing 'key' for config/delete");e.delete(r),e.broadcast(j,P({},e.all()))},R[U]=function(e,t){for(var n=0,r=Object.keys(e.all());n<r.length;n++){var o=r[n];e.delete(o)}e.broadcast(j,P({},e.all()))},R[x]=function(e,t,n){var r=n.pattern;if(null==r)throw new Error("Missing 'pattern' for config/where");t.reply(e.where(r))},R.SUBSCRIBE=function(e,t){e.subscribe(t.from),e.send(t.from,j,P({},e.all()))},R.UNSUBSCRIBE=function(e,t){e.unsubscribe(t.from)},R);function F(e,t){return E(k,T,{key:e,value:t}),H()}function G(e,t){return E(k,C,{key:e,fallback:t},{expectReply:!0,timeout:10})}function D(){return E(k,_,null,{expectReply:!0,timeout:10})}function M(e,t){return void 0===t&&(t=N),E(k,O,{key:e,fn:t}),H()}function Y(e){return E(k,B,{key:e}),H()}function z(e){return E(k,x,{pattern:e},{expectReply:!0,timeout:10})}function W(e){return I(k,(function(){return w(L,k)}),e)}function q(){return E(k,U)}function H(e){return null!=e&&"object"===typeof e&&Object.keys(e).map((function(t){return F(t,e[t])})),{put:F,get:G,all:D,first:A,update:M,delete:Y,where:z,subscribe:W,overload:J}}w(L,k),H.put=F,H.get=G,H.all=D,H.first=A,H.update=M,H.delete=Y,H.where=z,H.subscribe=W,H.overload=J;var K,V=function(e){return e};function J(e,t){return void 0===e&&(e={}),void 0===t&&(t=V),new Promise((function(n,r){try{return Promise.resolve(D()).then((function(o){var i=function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){H(e);var r=t;return Promise.resolve(D()).then((function(e){return Promise.resolve(r(e)).then((function(e){return Promise.resolve(q()).then((function(){return Promise.resolve(H(o)).then((function(){n(e)}))}))}))}))}),(function(e){return Promise.resolve(q()).then((function(){return Promise.resolve(H(o)).then((function(){r(e)}))}))}));if(i&&i.then)return i.then((function(){}))}))}catch(o){return Promise.reject(o)}}))}function $(e,t){if(!e){var n,r=new Error("INVARIANT "+t);throw r.stack=r.stack.split("\n").filter((function(e){return!/at invariant/.test(e)})).join("\n"),(n=console).error.apply(n,["\n\n---\n\n",r,"\n\n"].concat([].slice.call(arguments,2),["\n\n---\n\n"])),r}}var X="function"===typeof queueMicrotask?queueMicrotask:function(e){return(K||(K=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))};function Z(){return Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(this,arguments)}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var te=function(){var e,t=[];return{deliver:function(n){try{return t.push(n),e&&(e(t.shift()),e=void 0),Promise.resolve()}catch(r){return Promise.reject(r)}},receive:function(){return new Promise((function(n){var r=t.shift();if(r)return n(r);e=n}))}}};function ne(e,t,n){if(!e.s){if(n instanceof re){if(!n.s)return void(n.o=ne.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(ne.bind(null,e,t),ne.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var re=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,o=this.s;if(o){var i=1&o?t:n;if(i){try{ne(r,1,i(this.v))}catch(u){ne(r,2,u)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?ne(r,1,t?t(o):o):n?ne(r,1,n(o)):ne(r,2,o)}catch(u){ne(r,2,u)}},r},e}();function oe(e){return e instanceof re&&1&e.s}function ie(e,t,n){for(var r;;){var o=e();if(oe(o)&&(o=o.v),!o)return i;if(o.then){r=0;break}var i=n();if(i&&i.then){if(!oe(i)){r=1;break}i=i.s}if(t){var u=t();if(u&&u.then&&!oe(u)){r=2;break}}}var a=new re,s=ne.bind(null,a,2);return(0===r?o.then(f):1===r?i.then(c):u.then(l)).then(void 0,s),a;function c(r){i=r;do{if(t&&(u=t())&&u.then&&!oe(u))return void u.then(l).then(void 0,s);if(!(o=e())||oe(o)&&!o.v)return void ne(a,1,i);if(o.then)return void o.then(f).then(void 0,s);oe(i=n())&&(i=i.v)}while(!i||!i.then);i.then(c).then(void 0,s)}function f(e){e?(i=n())&&i.then?i.then(c).then(void 0,s):c(i):ne(a,1,i)}function l(){(o=e())?o.then?o.then(f).then(void 0,s):f(o):ne(a,1,i)}}var ue="SUBSCRIBE",ae="UNSUBSCRIBE",se="object"===typeof self&&self.self===self&&self||"object"===typeof n.g&&n.g.global===n.g&&n.g||"object"===typeof window&&window.window===window&&window;se.FCL_REGISTRY=null==se.FCL_REGISTRY?{}:se.FCL_REGISTRY;var ce=0,fe=function(e,t,n,r){return void 0===r&&(r={}),new Promise((function(o,i){var u=r.expectReply||!1,a=null!=r.timeout?r.timeout:5e3;u&&a&&setTimeout((function(){return i(new Error("Timeout: "+a+"ms passed without a response."))}),a);var s={to:e,from:r.from,tag:t,data:n,timeout:a,reply:o,reject:i};try{se.FCL_REGISTRY[e]&&se.FCL_REGISTRY[e].mailbox.deliver(s),u||o(!0)}catch(c){console.error("FCL.Actor -- Could Not Deliver Message",s,se.FCL_REGISTRY[e],c)}}))},le=function(e,t){if(void 0===t&&(t=null),null==t&&(t=++ce),null!=se.FCL_REGISTRY[t])return t;se.FCL_REGISTRY[t]={addr:t,mailbox:te(),subs:new Set,kvs:{},error:null};var n,r={self:function(){return t},receive:function(){return se.FCL_REGISTRY[t].mailbox.receive()},send:function(e,n,r,o){return void 0===o&&(o={}),o.from=t,fe(e,n,r,o)},sendSelf:function(e,n,r){se.FCL_REGISTRY[t]&&fe(t,e,n,r)},broadcast:function(e,n,r){void 0===r&&(r={}),r.from=t;for(var o,i=ee(se.FCL_REGISTRY[t].subs);!(o=i()).done;){var u=o.value;fe(u,e,n,r)}},subscribe:function(e){return null!=e&&se.FCL_REGISTRY[t].subs.add(e)},unsubscribe:function(e){return null!=e&&se.FCL_REGISTRY[t].subs.delete(e)},subscriberCount:function(){return se.FCL_REGISTRY[t].subs.size},hasSubs:function(){return!!se.FCL_REGISTRY[t].subs.size},put:function(e,n){null!=e&&(se.FCL_REGISTRY[t].kvs[e]=n)},get:function(e,n){var r=se.FCL_REGISTRY[t].kvs[e];return null==r?n:r},delete:function(e){delete se.FCL_REGISTRY[t].kvs[e]},update:function(e,n){null!=e&&(se.FCL_REGISTRY[t].kvs[e]=n(se.FCL_REGISTRY[t].kvs[e]))},keys:function(){return Object.keys(se.FCL_REGISTRY[t].kvs)},all:function(){return se.FCL_REGISTRY[t].kvs},where:function(e){return Object.keys(se.FCL_REGISTRY[t].kvs).reduce((function(n,r){var o;return e.test(r)?Z({},n,((o={})[r]=se.FCL_REGISTRY[t].kvs[r],o)):n}),{})},merge:function(e){void 0===e&&(e={}),Object.keys(e).forEach((function(n){return se.FCL_REGISTRY[t].kvs[n]=e[n]}))},fatalError:function(e){se.FCL_REGISTRY[t].error=e;for(var n,r=ee(se.FCL_REGISTRY[t].subs);!(n=r()).done;){var o=n.value;fe(o,"UPDATED")}}};return"object"===typeof e&&(void 0===(n=e)&&(n={}),e=function(e){try{var t=function(){var t,r=ie((function(){return!t&&1}),void 0,(function(){return Promise.resolve(e.receive()).then((function(r){var o=function(e,t){try{var n=e()}catch(r){return t(!0,r)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,n)}((function(){return function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){function o(){return Promise.resolve(n[r.tag](e,r,r.data||{})).then((function(){}))}var i=function(){if("EXIT"===r.tag){var o=function(){t=1},i=function(){if("function"===typeof n.TERMINATE)return Promise.resolve(n.TERMINATE(e,r,r.data||{})).then((function(){}))}();return i&&i.then?i.then(o):o()}}();return i&&i.then?i.then(o):o()}),(function(t){console.error(e.self()+" Error",r,t)}))}),(function(e,t){}));if(o&&o.then)return o.then((function(){}))}))})),o=function(){if(r&&r.then)return r.then((function(){}))}();if(o&&o.then)return o.then((function(){}))},r=function(){if("function"===typeof n.INIT)return Promise.resolve(n.INIT(e)).then((function(){}))}();return Promise.resolve(r&&r.then?r.then(t):t())}catch(o){return Promise.reject(o)}}),X((function(){try{return Promise.resolve(e(r)).then((function(){!function(e){delete se.FCL_REGISTRY[e]}(t)}))}catch(n){return Promise.reject(n)}})),t};function de(){return de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}var he;"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var pe=function e(t,n){void 0===t&&(t=[]);try{if(!t.length)return Promise.resolve(n);var r=t,o=r[0],i=r.slice(1);return Promise.resolve(ke(o)).then((function(t){return null==t?e(i,n):t}))}catch(u){return Promise.reject(u)}},ve="config",ye="PUT_CONFIG",me="GET_CONFIG",ge="GET_ALL_CONFIG",be="UPDATE_CONFIG",Ee="DELETE_CONFIG",we="CLEAR_CONFIG",Ie="WHERE_CONFIG",Se="CONFIG/UPDATED",Pe=function(e){return e},Re=((he={}).PUT_CONFIG=function(e,t,n){var r=n.key,o=n.value;if(null==r)throw new Error("Missing 'key' for config/put.");e.put(r,o),e.broadcast(Se,de({},e.all()))},he.GET_CONFIG=function(e,t,n){var r=n.key,o=n.fallback;if(null==r)throw new Error("Missing 'key' for config/get");t.reply(e.get(r,o))},he.GET_ALL_CONFIG=function(e,t){t.reply(de({},e.all()))},he.UPDATE_CONFIG=function(e,t,n){var r=n.key,o=n.fn;if(null==r)throw new Error("Missing 'key' for config/update");e.update(r,o||Pe),e.broadcast(Se,de({},e.all()))},he.DELETE_CONFIG=function(e,t,n){var r=n.key;if(null==r)throw new Error("Missing 'key' for config/delete");e.delete(r),e.broadcast(Se,de({},e.all()))},he.CLEAR_CONFIG=function(e,t){for(var n=0,r=Object.keys(e.all());n<r.length;n++){var o=r[n];e.delete(o)}e.broadcast(Se,de({},e.all()))},he.WHERE_CONFIG=function(e,t,n){var r=n.pattern;if(null==r)throw new Error("Missing 'pattern' for config/where");t.reply(e.where(r))},he.SUBSCRIBE=function(e,t){e.subscribe(t.from),e.send(t.from,Se,de({},e.all()))},he.UNSUBSCRIBE=function(e,t){e.unsubscribe(t.from)},he);function Ae(e,t){return fe(ve,ye,{key:e,value:t}),xe()}function ke(e,t){return fe(ve,me,{key:e,fallback:t},{expectReply:!0,timeout:10})}function Te(){return fe(ve,ge,null,{expectReply:!0,timeout:10})}function Ce(e,t){return void 0===t&&(t=Pe),fe(ve,be,{key:e,fn:t}),xe()}function _e(e){return fe(ve,Ee,{key:e}),xe()}function Oe(e){return fe(ve,Ie,{pattern:e},{expectReply:!0,timeout:10})}function Be(e){return function(e,t,n){t(e);var r="@EXIT",o=le((function(t){try{var o;return t.send(e,ue),Promise.resolve(ie((function(){return!o&&1}),void 0,(function(){return Promise.resolve(t.receive()).then((function(i){var u=se.FCL_REGISTRY[e].error;return i.tag===r?(t.send(e,ae),void(o=1)):u?(n(null,u),t.send(e,ae),void(o=1)):void n(i.data,null)}))})))}catch(i){return Promise.reject(i)}}));return function(){return fe(o,r)}}(ve,(function(){return le(Re,ve)}),e)}function Ue(){return fe(ve,we)}function xe(e){return null!=e&&"object"===typeof e&&Object.keys(e).map((function(t){return Ae(t,e[t])})),{put:Ae,get:ke,all:Te,first:pe,update:Ce,delete:_e,where:Oe,subscribe:Be,overload:Ne}}le(Re,ve),xe.put=Ae,xe.get=ke,xe.all=Te,xe.first=pe,xe.update=Ce,xe.delete=_e,xe.where=Oe,xe.subscribe=Be,xe.overload=Ne;var je=function(e){return e};function Ne(e,t){return void 0===e&&(e={}),void 0===t&&(t=je),new Promise((function(n,r){try{return Promise.resolve(Te()).then((function(o){var i=function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){xe(e);var r=t;return Promise.resolve(Te()).then((function(e){return Promise.resolve(r(e)).then((function(e){return Promise.resolve(Ue()).then((function(){return Promise.resolve(xe(o)).then((function(){n(e)}))}))}))}))}),(function(e){return Promise.resolve(Ue()).then((function(){return Promise.resolve(xe(o)).then((function(){r(e)}))}))}));if(i&&i.then)return i.then((function(){}))}))}catch(o){return Promise.reject(o)}}))}var Le=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),Fe=function(e){var t=e.title,n=e.message,r=e.level,o=e.always,i=void 0!==o&&o;try{return Promise.resolve(xe.get("logger.level",Le.warn)).then((function(e){var o,u,a,s,c;if(i||!(e<r)){var f,l=[("\n    %c"+(f={title:t,message:n}).title+"\n    ============================\n\n    "+f.message+"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"];switch(r){case Le.debug:(o=console).debug.apply(o,l);break;case Le.info:(u=console).info.apply(u,l);break;case Le.warn:(a=console).warn.apply(a,l);break;case Le.error:(s=console).error.apply(s,l);break;default:(c=console).log.apply(c,l)}}}))}catch(u){return Promise.reject(u)}};Fe.deprecate=function(e){var t=e.pkg,n=e.subject,r=e.transition,o=e.level,i=void 0===o?Le.warn:o,u=e.message,a=void 0===u?"":u,s=e.callback,c=void 0===s?null:s,f=function(){return Fe({title:(t?t+" ":"")+"Deprecation Notice",message:("\n      "+(n?(e=n,e.charAt(0).toUpperCase()+e.slice(1)+" is deprecated and will cease to work in future releases"+(t?" of "+t:"")+"."):"")+(a?"\n"+a:"")+(r?"\nYou can learn more (including a guide on common transition paths) here: "+r:"")+"\n    ").trim(),level:i});var e};return"function"===typeof c?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];try{return Promise.resolve(f()).then((function(){return Promise.resolve(c.apply(void 0,t))}))}catch(r){return Promise.reject(r)}}:f()};var Ge=n(8764);function De(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(De(e[n]));var r=Ge.Buffer.concat(t);return Ge.Buffer.concat([Me(r.length,192),r])}var o=We(e);return 1===o.length&&o[0]<128?o:Ge.Buffer.concat([Me(o.length,128),o])}function Me(e,t){if(e<56)return Ge.Buffer.from([e+t]);var n=ze(e),r=ze(t+55+n.length/2);return Ge.Buffer.from(r+n,"hex")}function Ye(e){return"0x"===e.slice(0,2)}function ze(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function We(e){if(!Ge.Buffer.isBuffer(e)){if("string"===typeof e)return Ye(e)?Ge.Buffer.from((t="string"!==typeof(n=e)?n:Ye(n)?n.slice(2):n).length%2?"0"+t:t,"hex"):Ge.Buffer.from(e);if("number"===typeof e)return e?function(e){var t=ze(e);return Ge.Buffer.from(t,"hex")}(e):Ge.Buffer.from([]);if(null===e||void 0===e)return Ge.Buffer.from([]);if(e instanceof Uint8Array)return Ge.Buffer.from(e);throw new Error("invalid type")}var t,n;return e}function qe(e){return null==e?null:e.replace(/^0x/,"").replace(/^Fx/,"")}function He(e){return null==e?null:"0x"+qe(e)}function Ke(e){return He(e)}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Xe(e,t)}function $e(e){return $e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$e(e)}function Xe(e,t){return Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xe(e,t)}function Ze(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Qe(e,t,n){return Qe=Ze()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Xe(o,n.prototype),o},Qe.apply(null,arguments)}function et(e){var t="function"===typeof Map?new Map:void 0;return et=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Qe(e,arguments,$e(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Xe(r,e)},et(e)}function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}for(var nt=function(e){var t=lt(e),n=t[0],r=t[1];return 3*(n+r)/4-r},rt=function(e){var t,n,r=lt(e),o=r[0],i=r[1],u=new at(function(e,t,n){return 3*(t+n)/4-n}(0,o,i)),a=0,s=i>0?o-4:o;for(n=0;n<s;n+=4)t=ut[e.charCodeAt(n)]<<18|ut[e.charCodeAt(n+1)]<<12|ut[e.charCodeAt(n+2)]<<6|ut[e.charCodeAt(n+3)],u[a++]=t>>16&255,u[a++]=t>>8&255,u[a++]=255&t;2===i&&(t=ut[e.charCodeAt(n)]<<2|ut[e.charCodeAt(n+1)]>>4,u[a++]=255&t);1===i&&(t=ut[e.charCodeAt(n)]<<10|ut[e.charCodeAt(n+1)]<<4|ut[e.charCodeAt(n+2)]>>2,u[a++]=t>>8&255,u[a++]=255&t);return u},ot=function(e){for(var t,n=e.length,r=n%3,o=[],i=16383,u=0,a=n-r;u<a;u+=i)o.push(dt(e,u,u+i>a?a:u+i));1===r?(t=e[n-1],o.push(it[t>>2]+it[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(it[t>>10]+it[t>>4&63]+it[t<<2&63]+"="));return o.join("")},it=[],ut=[],at="undefined"!==typeof Uint8Array?Uint8Array:Array,st="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ct=0,ft=st.length;ct<ft;++ct)it[ct]=st[ct],ut[st.charCodeAt(ct)]=ct;function lt(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function dt(e,t,n){for(var r,o,i=[],u=t;u<n;u+=3)r=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),i.push(it[(o=r)>>18&63]+it[o>>12&63]+it[o>>6&63]+it[63&o]);return i.join("")}ut["-".charCodeAt(0)]=62,ut["_".charCodeAt(0)]=63;var ht={byteLength:nt,toByteArray:rt,fromByteArray:ot},pt=function(e,t,n,r,o){var i,u,a=8*o-r-1,s=(1<<a)-1,c=s>>1,f=-7,l=n?o-1:0,d=n?-1:1,h=e[t+l];for(l+=d,i=h&(1<<-f)-1,h>>=-f,f+=a;f>0;i=256*i+e[t+l],l+=d,f-=8);for(u=i&(1<<-f)-1,i>>=-f,f+=r;f>0;u=256*u+e[t+l],l+=d,f-=8);if(0===i)i=1-c;else{if(i===s)return u?NaN:1/0*(h?-1:1);u+=Math.pow(2,r),i-=c}return(h?-1:1)*u*Math.pow(2,i-r)},vt=function(e,t,n,r,o,i){var u,a,s,c=8*i-o-1,f=(1<<c)-1,l=f>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,u=f):(u=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-u))<1&&(u--,s*=2),(t+=u+l>=1?d/s:d*Math.pow(2,1-l))*s>=2&&(u++,s/=2),u+l>=f?(a=0,u=f):u+l>=1?(a=(t*s-1)*Math.pow(2,o),u+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,o),u=0));o>=8;e[n+h]=255&a,h+=p,a/=256,o-=8);for(u=u<<o|a,c+=o;c>0;e[n+h]=255&u,h+=p,u/=256,c-=8);e[n+h-p]|=128*v};!function(e){var t={exports:{}};e(t,t.exports)}((function(e,t){var n="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=i,t.SlowBuffer=function(e){+e!=e&&(e=0);return i.alloc(+e)},t.INSPECT_MAX_BYTES=50;var r=2147483647;function o(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,i.prototype),t}function i(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return s(e)}return u(e,t,n)}function u(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|d(e,t),r=o(n),u=r.write(e,t);u!==n&&(r=r.slice(0,u));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(H(e,Uint8Array)){var t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return c(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(H(e,ArrayBuffer)||e&&H(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(H(e,SharedArrayBuffer)||e&&H(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return i.from(r,t,n);var u=function(e){if(i.isBuffer(e)){var t=0|l(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||K(e.length)?o(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(u)return u;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function a(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function s(e){return a(e),o(e<0?0:0|l(e))}function c(e){for(var t=e.length<0?0:0|l(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,i.prototype),r}function l(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function d(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||H(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(o)return r?-1:z(e).length;t=(""+t).toLowerCase(),o=!0}}function h(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),K(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var i,u=1,a=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;u=2,a/=2,s/=2,n/=2}function c(e,t){return 1===u?e[t]:e.readUInt16BE(t*u)}if(o){var f=-1;for(i=n;i<a;i++)if(c(e,i)===c(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===s)return f*u}else-1!==f&&(i-=i-f),f=-1}else for(n+s>a&&(n=a-s),i=n;i>=0;i--){for(var l=!0,d=0;d<s;d++)if(c(e,i+d)!==c(t,d)){l=!1;break}if(l)return i}return-1}function m(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i,u=t.length;for(r>u/2&&(r=u/2),i=0;i<r;++i){var a=parseInt(t.substr(2*i,2),16);if(K(a))return i;e[n+i]=a}return i}function g(e,t,n,r){return q(z(t,e.length-n),e,n,r)}function b(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return q(W(t),e,n,r)}function w(e,t,n,r){return q(function(e,t){for(var n,r,o,i=[],u=0;u<e.length&&!((t-=2)<0);++u)r=(n=e.charCodeAt(u))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?ht.fromByteArray(e):ht.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i=e[o],u=null,a=i>239?4:i>223?3:i>191?2:1;if(o+a<=n){var s=void 0,c=void 0,f=void 0,l=void 0;switch(a){case 1:i<128&&(u=i);break;case 2:128===(192&(s=e[o+1]))&&(l=(31&i)<<6|63&s)>127&&(u=l);break;case 3:s=e[o+1],c=e[o+2],128===(192&s)&&128===(192&c)&&(l=(15&i)<<12|(63&s)<<6|63&c)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:s=e[o+1],c=e[o+2],f=e[o+3],128===(192&s)&&128===(192&c)&&128===(192&f)&&(l=(15&i)<<18|(63&s)<<12|(63&c)<<6|63&f)>65535&&l<1114112&&(u=l)}}null===u?(u=65533,a=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=a}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=P));return n}(r)}t.kMaxLength=r,i.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(e,t,n){return function(e,t,n){return a(e),e<=0?o(e):void 0!==t?"string"===typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},i.allocUnsafe=function(e){return s(e)},i.allocUnsafeSlow=function(e){return s(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==i.prototype},i.compare=function(e,t){if(H(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),H(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,u=Math.min(n,r);o<u;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var u=e[n];if(H(u,Uint8Array))o+u.length>r.length?(i.isBuffer(u)||(u=i.from(u)),u.copy(r,o)):Uint8Array.prototype.set.call(r,u,o);else{if(!i.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(r,o)}o+=u.length}return r},i.byteLength=d,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},i.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):h.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},n&&(i.prototype[n]=i.prototype.inspect),i.prototype.compare=function(e,t,n,r,o){if(H(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var u=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(u,a),c=this.slice(r,o),f=e.slice(t,n),l=0;l<s;++l)if(c[l]!==f[l]){u=c[l],a=f[l];break}return u<a?-1:a<u?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return g(this,e,t,n);case"ascii":case"latin1":case"binary":return b(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function R(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function k(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=V[e[i]];return o}function T(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function C(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function _(e,t,n,r,o,u){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<u)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r,o){G(t,r,o,e,n,7);var i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;var u=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=u,u>>=8,e[n++]=u,u>>=8,e[n++]=u,u>>=8,e[n++]=u,n}function B(e,t,n,r,o){G(t,r,o,e,n,7);var i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;var u=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=u,u>>=8,e[n+2]=u,u>>=8,e[n+1]=u,u>>=8,e[n]=u,n+8}function U(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function x(e,t,n,r,o){return t=+t,n>>>=0,o||U(e,0,n,4),vt(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return t=+t,n>>>=0,o||U(e,0,n,8),vt(e,t,n,r,52,8),n+8}i.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,i.prototype),r},i.prototype.readUintLE=i.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUintBE=i.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUint8=i.prototype.readUInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),this[e]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readBigUInt64LE=J((function(e){D(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||M(e,this.length-8);var r=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),o=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+n*Math.pow(2,24);return BigInt(r)+(BigInt(o)<<BigInt(32))})),i.prototype.readBigUInt64BE=J((function(e){D(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||M(e,this.length-8);var r=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],o=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),i.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||C(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){e>>>=0,t||C(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readBigInt64LE=J((function(e){D(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||M(e,this.length-8);var r=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),i.prototype.readBigInt64BE=J((function(e){D(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||M(e,this.length-8);var r=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n)})),i.prototype.readFloatLE=function(e,t){return e>>>=0,t||C(e,4,this.length),pt(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||C(e,4,this.length),pt(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||C(e,8,this.length),pt(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||C(e,8,this.length),pt(this,e,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||_(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||_(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUint8=i.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeBigUInt64LE=J((function(e,t){return void 0===t&&(t=0),O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),i.prototype.writeBigUInt64BE=J((function(e,t){return void 0===t&&(t=0),B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);_(this,e,t,n,o-1,-o)}var i=0,u=1,a=0;for(this[t]=255&e;++i<n&&(u*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/u>>0)-a&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);_(this,e,t,n,o-1,-o)}var i=n-1,u=1,a=0;for(this[t+i]=255&e;--i>=0&&(u*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/u>>0)-a&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeBigInt64LE=J((function(e,t){return void 0===t&&(t=0),O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),i.prototype.writeBigInt64BE=J((function(e,t){return void 0===t&&(t=0),B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),i.prototype.writeFloatLE=function(e,t,n){return x(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return x(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},i.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var u;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(u=t;u<n;++u)this[u]=e;else{var a=i.isBuffer(e)?e:i.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(u=0;u<n-t;++u)this[u+t]=a[u%s]}return this};var N={};function L(e,t,n){N[e]=function(n){function r(){var r;return r=n.call(this)||this,Object.defineProperty(tt(r),"message",{value:t.apply(tt(r),arguments),writable:!0,configurable:!0}),r.name=r.name+" ["+e+"]",delete r.name,r}var o,i,u;return Je(r,n),r.prototype.toString=function(){return this.name+" ["+e+"]: "+this.message},o=r,(i=[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}}])&&Ve(o.prototype,i),u&&Ve(o,u),Object.defineProperty(o,"prototype",{writable:!1}),r}(n)}function F(e){for(var t="",n=e.length,r="-"===e[0]?1:0;n>=r+4;n-=3)t="_"+e.slice(n-3,n)+t;return""+e.slice(0,n)+t}function G(e,t,n,r,o,i){if(e>n||e<t){var u,a="bigint"===typeof t?"n":"";throw u=i>3?0===t||t===BigInt(0)?">= 0"+a+" and < 2"+a+" ** "+8*(i+1)+a:">= -(2"+a+" ** "+(8*(i+1)-1)+a+") and < 2 ** "+(8*(i+1)-1)+a:">= "+t+a+" and <= "+n+a,new N.ERR_OUT_OF_RANGE("value",u,e)}!function(e,t,n){D(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||M(t,e.length-(n+1))}(r,o,i)}function D(e,t){if("number"!==typeof e)throw new N.ERR_INVALID_ARG_TYPE(t,"number",e)}function M(e,t,n){if(Math.floor(e)!==e)throw D(e,n),new N.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new N.ERR_BUFFER_OUT_OF_BOUNDS;throw new N.ERR_OUT_OF_RANGE(n||"offset",">= "+(n?1:0)+" and <= "+t,e)}L("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?e+" is outside of buffer bounds":"Attempt to access memory outside buffer bounds"}),RangeError),L("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'+e+'" argument must be of type number. Received type '+typeof t}),TypeError),L("ERR_OUT_OF_RANGE",(function(e,t,n){var r='The value of "'+e+'" is out of range.',o=n;return Number.isInteger(n)&&Math.abs(n)>Math.pow(2,32)?o=F(String(n)):"bigint"===typeof n&&(o=String(n),(n>Math.pow(BigInt(2),BigInt(32))||n<-Math.pow(BigInt(2),BigInt(32)))&&(o=F(o)),o+="n"),r+=" It must be "+t+". Received "+o}),RangeError);var Y=/[^+/0-9A-Za-z-_]/g;function z(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],u=0;u<r;++u){if((n=e.charCodeAt(u))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(u+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(e){return ht.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Y,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function q(e,t,n,r){var o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function H(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!==e}var V=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)t[r+o]=e[n]+e[o];return t}();function J(e){return"undefined"===typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}}));var yt=function(e){var t=e.hostname,n=e.path,r=e.method,o=e.body,i=e.retryLimit,u=void 0===i?5:i,a=e.retryIntervalMs,s=void 0===a?1e3:a;try{var c,f="https"===t.substring(0,5);try{var l;c=fetch||(null==(l=window)?void 0:l.fetch)}catch(d){}return Promise.resolve(function(){try{return Promise.resolve({nodeHttpsTransport:void 0,nodeHttpTransport:void 0})}catch(d){return Promise.reject(d)}}()).then((function(e){var i=e.nodeHttpsTransport,a=e.nodeHttpTransport;function l(){return c?c(""+t+n,{method:r,body:o?JSON.stringify(o):void 0}).then((function(e){try{return e.ok?Promise.resolve(e.json()):Promise.resolve(e.json()).then((function(i){throw new mt({transport:"FetchTransport",error:null==i?void 0:i.message,hostname:t,path:n,method:r,requestBody:o,responseBody:i,responseStatusText:e.statusText,statusCode:e.status})}))}catch(d){return Promise.reject(d)}})).catch((function(e){if(e instanceof mt)throw e;throw new mt({transport:"FetchTransport",error:null==e?void 0:e.message,hostname:t,path:n,method:r,requestBody:o})})):i&&a?new Promise((function(e,u){var s=t.split(":"),c=3==s.length?s[2]:void 0,l=s.length>1?s[1].substring(2):s[0],h=f?i:a,p=o?JSON.stringify(o):null,v={hostname:l,path:n,port:c,method:r,headers:o?{"Content-Type":"application/json","Content-Length":p.length}:void 0},y=[],m=h.request(v,(function(t){t.setEncoding("utf8"),t.on("data",(function(e){y.push(e)})),t.on("end",(function(){try{y=JSON.parse(y.join("")),null!=t&&t.statusCode&&(Number(null==t?void 0:t.statusCode)<200||Number(null==t?void 0:t.statusCode)>=300)&&u(new mt({transport:f?"NodeHTTPsTransport":"NodeHTTPTransport",error:JSON.stringify(y),hostname:l,path:n,port:c,method:r,requestBody:o?JSON.stringify(o):null,responseBody:JSON.stringify(y),reqOn:"end",statusCode:null==t?void 0:t.statusCode}))}catch(d){d instanceof mt&&u(d),u(new mt({transport:f?"NodeHTTPsTransport":"NodeHTTPTransport",error:d,hostname:l,path:n,port:c,method:r,requestBody:null!=o?o:null,responseBody:y,reqOn:"end"}))}e(y)}))}));m.on("error",(function(e){u(new mt({transport:f?"NodeHTTPsTransport":"NodeHTTPTransport",error:e,hostname:l,path:n,port:c,method:r,requestBody:o,responseBody:y,reqOn:"error"}))})),o&&m.write(p),m.end()})):void 0}return $(c||i||a,"HTTP Request error: Could not find a supported HTTP module."),Promise.resolve(function e(t){void 0===t&&(t=0);try{return Promise.resolve(function(e,t){try{var n=e()}catch(d){return t(d)}return n&&n.then?n.then(void 0,t):n}(l,(function(n){if([408,500,502,503,504].includes(n.statusCode))return Promise.resolve(new Promise((function(r,o){t<u?(console.log("Access node unavailable, retrying in "+s+" ms..."),setTimeout((function(){r(e(t+1))}),s)):o(n)})));throw n})))}catch(d){return Promise.reject(d)}}())}))}catch(d){return Promise.reject(d)}},mt=function(e){function t(t){var n,r,o=t.transport,i=t.error,u=t.hostname,a=t.path,s=t.port,c=t.method,f=t.requestBody,l=t.responseBody,d=t.responseStatusText,h=t.reqOn,p=t.statusCode,v="\n      HTTP Request Error: An error occurred when interacting with the Access API.\n      "+(o?"transport="+o:"")+"\n      "+(i?"error="+i:"")+"\n      "+(u?"hostname="+u:"")+"\n      "+(a?"path="+a:"")+"\n      "+(s?"port="+s:"")+"\n      "+(c?"method="+c:"")+"\n      "+(f?"requestBody="+JSON.stringify(f):"")+"\n      "+(l?"responseBody="+JSON.stringify(l):"")+"\n      "+(d?"responseStatusText="+d:"")+"\n      "+(h?"reqOn="+h:"")+"\n      "+(p?"statusCode="+p:"")+"\n    ";return(r=e.call(this,v)||this).name="HTTP Request Error",r.statusCode=null!=(n=null==l?void 0:l.code)?n:p,r.errorMessage=null==l?void 0:l.message,r}return Je(t,e),t}(et(Error)),gt=function(e,t,n){try{var r,o=n.httpRequest||yt;return Promise.resolve(o({hostname:n.node,path:"/v1/scripts?block_height=sealed",method:"POST",body:(r={script:t.Buffer.from(e.message.cadence).toString("base64")},r.arguments=e.message.arguments.map((function(n){return t.Buffer.from(JSON.stringify(e.arguments[n].asArgument)).toString("base64")})),r)})).then((function(n){return wt(e,t,n)}))}catch(i){return Promise.reject(i)}},bt=function(e,t,n){try{var r,o=n.httpRequest||yt;return Promise.resolve(o({hostname:n.node,path:"/v1/scripts?block_height="+e.block.height,method:"POST",body:(r={script:t.Buffer.from(e.message.cadence).toString("base64")},r.arguments=e.message.arguments.map((function(n){return t.Buffer.from(JSON.stringify(e.arguments[n].asArgument)).toString("base64")})),r)})).then((function(n){return wt(e,t,n)}))}catch(i){return Promise.reject(i)}},Et=function(e,t,n){try{var r,o=n.httpRequest||yt;return Promise.resolve(o({hostname:n.node,path:"/v1/scripts?block_id="+e.block.id,method:"POST",body:(r={script:t.Buffer.from(e.message.cadence).toString("base64")},r.arguments=e.message.arguments.map((function(n){return t.Buffer.from(JSON.stringify(e.arguments[n].asArgument)).toString("base64")})),r)})).then((function(n){return wt(e,t,n)}))}catch(i){return Promise.reject(i)}};function wt(e,t,n){var r=t.response();return r.tag=e.tag,r.encodedData=JSON.parse(t.Buffer.from(n,"base64").toString()),r}var It=function(e,t,n){try{var r,o=n.httpRequest||yt,i=null!=(r=e.block)&&r.isSealed?"sealed":"final";return Promise.resolve(o({hostname:n.node,path:"/v1/accounts/"+e.account.addr+"?block_height="+i+"&expand=contracts,keys",method:"GET",body:null})).then((function(n){return At(e,t,n)}))}catch(u){return Promise.reject(u)}},St=function(e,t,n){try{var r=n.httpRequest||yt;return Promise.resolve(r({hostname:n.node,path:"/v1/accounts/"+e.account.addr+"?block_height="+e.block.height+"&expand=contracts,keys",method:"GET",body:null})).then((function(n){return At(e,t,n)}))}catch(o){return Promise.reject(o)}},Pt={SHA2_256:1,SHA2_384:2,SHA3_256:3,SHA3_384:4,KMAC128_BLS_BLS12_381:5},Rt={ECDSA_P256:1,ECDSA_secp256k1:2,BLS_BLS12_381:3};function At(e,t,n){var r=t.response();r.tag=e.tag;return r.account={address:n.address,balance:Number(n.balance),code:"",contracts:function(e){var n={};if(!e)return n;for(var r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];n[i]=t.Buffer.from(e[i],"base64").toString()}return n}(n.contracts),keys:n.keys.map((function(e){return{index:Number(e.index),publicKey:e.public_key.replace(/^0x/,""),signAlgo:Rt[e.signing_algorithm],signAlgoString:e.signing_algorithm,hashAlgo:Pt[e.hashing_algorithm],hashAlgoString:e.hashing_algorithm,sequenceNumber:Number(e.sequence_number),weight:Number(e.weight),revoked:e.revoked}}))},r}var kt=function(e,t,n){try{var r,o=n.httpRequest||yt,i=null!=(r=e.block)&&r.isSealed?"sealed":"finalized";return Promise.resolve(o({hostname:n.node,path:"/v1/blocks?height="+i,method:"GET",body:null})).then((function(n){return _t(e,t,n)}))}catch(u){return Promise.reject(u)}},Tt=function(e,t,n){try{var r=n.httpRequest||yt;return Promise.resolve(r({hostname:n.node,path:"/v1/blocks?height="+e.block.height,method:"GET",body:null})).then((function(n){return _t(e,t,n)}))}catch(o){return Promise.reject(o)}},Ct=function(e,t,n){try{var r=n.httpRequest||yt;return Promise.resolve(r({hostname:n.node,path:"/v1/blocks/"+e.block.id,method:"GET",body:null})).then((function(n){return _t(e,t,n)}))}catch(o){return Promise.reject(o)}};function _t(e,t,n){var r=n.length?n[0]:null,o=t.response();return o.tag=e.tag,o.blockHeader={id:r.header.id,parentId:r.header.parent_id,height:Number(r.header.height),timestamp:r.header.timestamp},o}var Ot=function(e,t,n){try{var r,o=n.httpRequest||yt,i=null!=(r=e.block)&&r.isSealed?"sealed":"final";return Promise.resolve(o({hostname:n.node,path:"/v1/blocks?height="+i+"&expand=payload",method:"GET",body:null})).then((function(n){return xt(e,t,n)}))}catch(u){return Promise.reject(u)}},Bt=function(e,t,n){try{var r=n.httpRequest||yt;return Promise.resolve(r({hostname:n.node,path:"/v1/blocks?height="+e.block.height+"&expand=payload",method:"GET",body:null})).then((function(n){return xt(e,t,n)}))}catch(o){return Promise.reject(o)}},Ut=function(e,t,n){try{var r=n.httpRequest||yt;return Promise.resolve(r({hostname:n.node,path:"/v1/blocks/"+e.block.id+"?expand=payload",method:"GET",body:null})).then((function(n){return xt(e,t,n)}))}catch(o){return Promise.reject(o)}};function xt(e,t,n){var r=n.length?n[0]:null,o=t.response();return o.tag=e.tag,o.block={id:r.header.id,parentId:r.header.parent_id,height:Number(r.header.height),timestamp:r.header.timestamp,collectionGuarantees:r.payload.collection_guarantees.map((function(e){return{collectionId:e.collection_id,signerIds:e.signer_ids}})),blockSeals:r.payload.block_seals.map((function(e){return{blockId:e.block_id,executionReceiptId:e.result_id}}))},o}var jt=function(e,t,n){try{var r=n.httpRequest||yt;return Promise.resolve(r({hostname:n.node,path:"/v1/events?type="+e.events.eventType+"&block_ids="+e.events.blockIds.join(","),method:"GET",body:null})).then((function(n){return Lt(e,t,n)}))}catch(o){return Promise.reject(o)}},Nt=function(e,t,n){try{var r=n.httpRequest||yt;return Promise.resolve(r({hostname:n.node,path:"/v1/events?type="+e.events.eventType+"&start_height="+e.events.start+"&end_height="+e.events.end,method:"GET",body:null})).then((function(n){return Lt(e,t,n)}))}catch(o){return Promise.reject(o)}};function Lt(e,t,n){var r=t.response();return r.tag=e.tag,r.events=[],n.forEach((function(e){return e.events?e.events.forEach((function(n){return r.events.push({blockId:e.block_id,blockHeight:Number(e.block_height),blockTimestamp:e.block_timestamp,type:n.type,transactionId:n.transaction_id,transactionIndex:Number(n.transaction_index),eventIndex:Number(n.event_index),payload:JSON.parse(t.Buffer.from(n.payload,"base64").toString())})})):null})),r}var Ft,Gt={UNKNOWN:0,PENDING:1,FINALIZED:2,EXECUTED:3,SEALED:4,EXPIRED:5},Dt=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});try{return $(n.node,'SDK Send Error: Either opts.node or "accessNode.api" in config must be defined.'),$(t.ix,"SDK Send Error: context.ix must be defined."),Promise.resolve(e).then((function(r){switch(e=r,!0){case t.ix.isTransaction(e):return n.sendTransaction?n.sendTransaction(e,t,n):function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});try{$(n.node,"SDK Send Transaction Error: opts.node must be defined."),$(t.response,"SDK Send Transaction Error: context.response must be defined."),$(t.Buffer,"SDK Send Transaction Error: context.Buffer must be defined.");var r=n.httpRequest||yt;return Promise.resolve(e).then((function(o){var i;e=o;for(var u=[],a=0,s=Object.values(e.accounts);a<s.length;a++){var c=s[a];try{c.role.payer||null==c.signature||u.push({address:qe(c.addr),key_index:String(c.keyId),signature:t.Buffer.from(c.signature,"hex").toString("base64")})}catch(y){throw console.error("SDK HTTP Send Error: Trouble applying payload signature",{acct:c,ix:e}),y}}for(var f={},l=0,d=Object.values(e.accounts);l<d.length;l++){var h=d[l];try{if(h.role.payer&&null!=h.signature){var p=h.tempId||h.addr+"-"+h.keyId;f[p]=f[p]||{address:qe(h.addr),key_index:String(h.keyId),signature:t.Buffer.from(h.signature,"hex").toString("base64")}}}catch(y){throw console.error("SDK HTTP Send Error: Trouble applying envelope signature",{acct:h,ix:e}),y}}f=Object.values(f);var v=Date.now();return Promise.resolve(r({hostname:n.node,path:"/v1/transactions",method:"POST",body:(i={script:t.Buffer.from(e.message.cadence).toString("base64")},i.arguments=[].concat(e.message.arguments.map((function(n){return t.Buffer.from(JSON.stringify(e.arguments[n].asArgument)).toString("base64")}))),i.reference_block_id=e.message.refBlock?e.message.refBlock:null,i.gas_limit=String(e.message.computeLimit),i.payer=qe(e.accounts[Array.isArray(e.payer)?e.payer[0]:e.payer].addr),i.proposal_key={address:qe(e.accounts[e.proposer].addr),key_index:String(e.accounts[e.proposer].keyId),sequence_number:String(e.accounts[e.proposer].sequenceNum)},i.authorizers=e.authorizations.map((function(t){return e.accounts[t].addr})).reduce((function(e,t){return e.find((function(e){return e===t}))?e:[].concat(e,[t])}),[]).map(qe),i.payload_signatures=u,i.envelope_signatures=f,i)})).then((function(n){var r=Date.now(),o=t.response();return o.tag=e.tag,o.transactionId=n.id,"undefined"!==typeof window&&window.dispatchEvent(new CustomEvent("FLOW::TX",{detail:{txId:o.transactionId,delta:r-v}})),o}))}))}catch(o){return Promise.reject(o)}}(e,t,n);case t.ix.isGetTransactionStatus(e):return n.sendGetTransactionStatus?n.sendGetTransactionStatus(e,t,n):function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});try{$(n.node,"SDK Send Get Transaction Status Error: opts.node must be defined."),$(t.response,"SDK Send Get Transaction Status Error: context.response must be defined."),$(t.Buffer,"SDK Send Get Transaction Status Error: context.Buffer must be defined.");var r=n.httpRequest||yt;return Promise.resolve(e).then((function(o){return e=o,Promise.resolve(r({hostname:n.node,path:"/v1/transaction_results/"+e.transaction.id,method:"GET",body:null})).then((function(n){var r=t.response();return r.tag=e.tag,r.transactionStatus={blockId:n.block_id,status:Gt[n.status.toUpperCase()]||"",statusString:n.status.toUpperCase(),statusCode:n.status_code,errorMessage:n.error_message,events:n.events.map((function(e){return{type:e.type,transactionId:e.transaction_id,transactionIndex:Number(e.transaction_index),eventIndex:Number(e.event_index),payload:JSON.parse(t.Buffer.from(e.payload,"base64").toString())}}))},r}))}))}catch(o){return Promise.reject(o)}}(e,t,n);case t.ix.isGetTransaction(e):return n.sendGetTransaction?n.sendGetTransaction(e,t,n):function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});try{$(n.node,"SDK Send Get Transaction Error: opts.node must be defined."),$(t.response,"SDK Send Get Transaction Error: context.response must be defined."),$(t.Buffer,"SDK Send Get Transaction Error: context.Buffer must be defined.");var r=n.httpRequest||yt;return Promise.resolve(e).then((function(o){return e=o,Promise.resolve(r({hostname:n.node,path:"/v1/transactions/"+e.transaction.id,method:"GET",body:null})).then((function(n){var r,o=function(e){return{address:e.address,keyId:Number(e.key_index),signature:e.signature}},i=t.response();return i.tag=e.tag,i.transaction={script:t.Buffer.from(n.script,"base64").toString(),args:[].concat(n.arguments.map((function(e){return JSON.parse(t.Buffer.from(e,"base64").toString())}))),referenceBlockId:n.reference_block_id,gasLimit:Number(n.gas_limit),payer:n.payer,proposalKey:n.proposal_key?(r=n.proposal_key,{address:r.address,keyId:Number(r.key_id),sequenceNumber:Number(r.sequence_number)}):n.proposal_key,authorizers:n.authorizers,payloadSignatures:[].concat(n.payload_signatures.map(o)),envelopeSignatures:[].concat(n.envelope_signatures.map(o))},i}))}))}catch(o){return Promise.reject(o)}}(e,t,n);case t.ix.isScript(e):return n.sendExecuteScript?n.sendExecuteScript(e,t,n):function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});try{return $(n.node,"SDK Send Execute Script Error: opts.node must be defined."),$(t.response,"SDK Send Execute Script Error: context.response must be defined."),$(t.Buffer,"SDK Send Execute Script Error: context.Buffer must be defined."),Promise.resolve(e).then((function(r){return(e=r).block.id?Promise.resolve(Et(e,t,n)):e.block.height?Promise.resolve(bt(e,t,n)):Promise.resolve(gt(e,t,n))}))}catch(r){return Promise.reject(r)}}(e,t,n);case t.ix.isGetAccount(e):return n.sendGetAccount?n.sendGetAccount(e,t,n):function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});try{return $(n.node,"SDK Send Get Account Error: opts.node must be defined."),$(t.response,"SDK Send Get Account Error: context.response must be defined."),$(t.Buffer,"SDK Send Get Account Error: context.Buffer must be defined."),Promise.resolve(e).then((function(r){return null!==(e=r).block.height?Promise.resolve(St(e,t,n)):Promise.resolve(It(e,t,n))}))}catch(r){return Promise.reject(r)}}(e,t,n);case t.ix.isGetEvents(e):return n.sendGetEvents?n.sendGetEvents(e,t,n):function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});try{return $(n.node,"SDK Send Get Events Error: opts.node must be defined."),$(t.response,"SDK Send Get Events Error: context.response must be defined."),$(t.Buffer,"SDK Send Get Events Error: context.Buffer must be defined."),Promise.resolve(e).then((function(r){var o=null!==(e=r).events.start,i=Array.isArray(e.events.blockIds)&&e.events.blockIds.length>0;return $(o||i,"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified."),o?Promise.resolve(Nt(e,t,n)):Promise.resolve(jt(e,t,n))}))}catch(r){return Promise.reject(r)}}(e,t,n);case t.ix.isGetBlock(e):return n.sendGetBlock?n.sendGetBlock(e,t,n):function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});try{return $(n.node,"SDK Send Get Block Error: opts.node must be defined."),$(t.response,"SDK Send Get Block Error: context.response must be defined."),Promise.resolve(e).then((function(r){var o=null!==(e=r).block.id,i=null!==e.block.height;return o?Promise.resolve(Ut(e,t,n)):i?Promise.resolve(Bt(e,t,n)):Promise.resolve(Ot(e,t,n))}))}catch(r){return Promise.reject(r)}}(e,t,n);case t.ix.isGetBlockHeader(e):return n.sendGetBlockHeader?n.sendGetBlockHeader(e,t,n):function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});try{return $(n.node,"SDK Send Get Block Header Error: opts.node must be defined."),$(t.response,"SDK Send Get Block Header Error: context.response must be defined."),Promise.resolve(e).then((function(r){var o=null!==(e=r).block.id,i=null!==e.block.height;return o?Promise.resolve(Ct(e,t,n)):i?Promise.resolve(Tt(e,t,n)):Promise.resolve(kt(e,t,n))}))}catch(r){return Promise.reject(r)}}(e,t,n);case t.ix.isGetCollection(e):return n.sendGetCollection?n.sendGetCollection(e,t,n):function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});try{$(n.node,"SDK Send Get Collection Error: opts.node must be defined."),$(t.response,"SDK Send Get Collection Error: context.response must be defined.");var r=n.httpRequest||yt;return Promise.resolve(r({hostname:n.node,path:"/v1/collections/"+e.collection.id+"?expand=transactions",method:"GET",body:null})).then((function(n){var r=t.response();return r.tag=e.tag,r.collection={id:n.id,transactionIds:n.transactions.map((function(e){return e.id}))},r}))}catch(o){return Promise.reject(o)}}(e,t,n);case t.ix.isPing(e):return n.sendPing?n.sendPing(e,t,n):function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});try{$(n.node,"SDK Send Ping Error: opts.node must be defined."),$(t.response,"SDK Send Ping Error: context.response must be defined.");var r=n.httpRequest||yt;return Promise.resolve(r({hostname:n.node,path:"/v1/blocks?height=sealed",method:"GET",body:null})).then((function(){var n=t.response();return n.tag=e.tag,n}))}catch(o){return Promise.reject(o)}}(e,t,n);default:return e}}))}catch(r){return Promise.reject(r)}},Mt=n(5682),Yt="function"===typeof queueMicrotask?queueMicrotask:function(e){return(Ft||(Ft=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))};function zt(){return zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zt.apply(this,arguments)}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ht=function(){var e,t=[];return{deliver:function(n){try{return t.push(n),e&&(e(t.shift()),e=void 0),Promise.resolve()}catch(r){return Promise.reject(r)}},receive:function(){return new Promise((function(n){var r=t.shift();if(r)return n(r);e=n}))}}};function Kt(e,t,n){if(!e.s){if(n instanceof Vt){if(!n.s)return void(n.o=Kt.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(Kt.bind(null,e,t),Kt.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var Vt=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,o=this.s;if(o){var i=1&o?t:n;if(i){try{Kt(r,1,i(this.v))}catch(u){Kt(r,2,u)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?Kt(r,1,t?t(o):o):n?Kt(r,1,n(o)):Kt(r,2,o)}catch(u){Kt(r,2,u)}},r},e}();function Jt(e){return e instanceof Vt&&1&e.s}function $t(e,t,n){for(var r;;){var o=e();if(Jt(o)&&(o=o.v),!o)return i;if(o.then){r=0;break}var i=n();if(i&&i.then){if(!Jt(i)){r=1;break}i=i.s}if(t){var u=t();if(u&&u.then&&!Jt(u)){r=2;break}}}var a=new Vt,s=Kt.bind(null,a,2);return(0===r?o.then(f):1===r?i.then(c):u.then(l)).then(void 0,s),a;function c(r){i=r;do{if(t&&(u=t())&&u.then&&!Jt(u))return void u.then(l).then(void 0,s);if(!(o=e())||Jt(o)&&!o.v)return void Kt(a,1,i);if(o.then)return void o.then(f).then(void 0,s);Jt(i=n())&&(i=i.v)}while(!i||!i.then);i.then(c).then(void 0,s)}function f(e){e?(i=n())&&i.then?i.then(c).then(void 0,s):c(i):Kt(a,1,i)}function l(){(o=e())?o.then?o.then(f).then(void 0,s):f(o):Kt(a,1,i)}}var Xt="SUBSCRIBE",Zt="UNSUBSCRIBE",Qt="object"===typeof self&&self.self===self&&self||"object"===typeof n.g&&n.g.global===n.g&&n.g||"object"===typeof window&&window.window===window&&window;Qt.FCL_REGISTRY=null==Qt.FCL_REGISTRY?{}:Qt.FCL_REGISTRY;var en=0,tn=function(e,t,n,r){return void 0===r&&(r={}),new Promise((function(o,i){var u=r.expectReply||!1,a=null!=r.timeout?r.timeout:5e3;u&&a&&setTimeout((function(){return i(new Error("Timeout: "+a+"ms passed without a response."))}),a);var s={to:e,from:r.from,tag:t,data:n,timeout:a,reply:o,reject:i};try{Qt.FCL_REGISTRY[e]&&Qt.FCL_REGISTRY[e].mailbox.deliver(s),u||o(!0)}catch(c){console.error("FCL.Actor -- Could Not Deliver Message",s,Qt.FCL_REGISTRY[e],c)}}))},nn=function(e,t){if(void 0===t&&(t=null),null==t&&(t=++en),null!=Qt.FCL_REGISTRY[t])return t;Qt.FCL_REGISTRY[t]={addr:t,mailbox:Ht(),subs:new Set,kvs:{},error:null};var n,r={self:function(){return t},receive:function(){return Qt.FCL_REGISTRY[t].mailbox.receive()},send:function(e,n,r,o){return void 0===o&&(o={}),o.from=t,tn(e,n,r,o)},sendSelf:function(e,n,r){Qt.FCL_REGISTRY[t]&&tn(t,e,n,r)},broadcast:function(e,n,r){void 0===r&&(r={}),r.from=t;for(var o,i=qt(Qt.FCL_REGISTRY[t].subs);!(o=i()).done;){var u=o.value;tn(u,e,n,r)}},subscribe:function(e){return null!=e&&Qt.FCL_REGISTRY[t].subs.add(e)},unsubscribe:function(e){return null!=e&&Qt.FCL_REGISTRY[t].subs.delete(e)},subscriberCount:function(){return Qt.FCL_REGISTRY[t].subs.size},hasSubs:function(){return!!Qt.FCL_REGISTRY[t].subs.size},put:function(e,n){null!=e&&(Qt.FCL_REGISTRY[t].kvs[e]=n)},get:function(e,n){var r=Qt.FCL_REGISTRY[t].kvs[e];return null==r?n:r},delete:function(e){delete Qt.FCL_REGISTRY[t].kvs[e]},update:function(e,n){null!=e&&(Qt.FCL_REGISTRY[t].kvs[e]=n(Qt.FCL_REGISTRY[t].kvs[e]))},keys:function(){return Object.keys(Qt.FCL_REGISTRY[t].kvs)},all:function(){return Qt.FCL_REGISTRY[t].kvs},where:function(e){return Object.keys(Qt.FCL_REGISTRY[t].kvs).reduce((function(n,r){var o;return e.test(r)?zt({},n,((o={})[r]=Qt.FCL_REGISTRY[t].kvs[r],o)):n}),{})},merge:function(e){void 0===e&&(e={}),Object.keys(e).forEach((function(n){return Qt.FCL_REGISTRY[t].kvs[n]=e[n]}))},fatalError:function(e){Qt.FCL_REGISTRY[t].error=e;for(var n,r=qt(Qt.FCL_REGISTRY[t].subs);!(n=r()).done;){var o=n.value;tn(o,"UPDATED")}}};return"object"===typeof e&&(void 0===(n=e)&&(n={}),e=function(e){try{var t=function(){var t,r=$t((function(){return!t&&1}),void 0,(function(){return Promise.resolve(e.receive()).then((function(r){var o=function(e,t){try{var n=e()}catch(r){return t(!0,r)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,n)}((function(){return function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){function o(){return Promise.resolve(n[r.tag](e,r,r.data||{})).then((function(){}))}var i=function(){if("EXIT"===r.tag){var o=function(){t=1},i=function(){if("function"===typeof n.TERMINATE)return Promise.resolve(n.TERMINATE(e,r,r.data||{})).then((function(){}))}();return i&&i.then?i.then(o):o()}}();return i&&i.then?i.then(o):o()}),(function(t){console.error(e.self()+" Error",r,t)}))}),(function(e,t){}));if(o&&o.then)return o.then((function(){}))}))})),o=function(){if(r&&r.then)return r.then((function(){}))}();if(o&&o.then)return o.then((function(){}))},r=function(){if("function"===typeof n.INIT)return Promise.resolve(n.INIT(e)).then((function(){}))}();return Promise.resolve(r&&r.then?r.then(t):t())}catch(o){return Promise.reject(o)}}),Yt((function(){try{return Promise.resolve(e(r)).then((function(){!function(e){delete Qt.FCL_REGISTRY[e]}(t)}))}catch(n){return Promise.reject(n)}})),t};function rn(){return rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rn.apply(this,arguments)}var on;"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var un=function e(t,n){void 0===t&&(t=[]);try{if(!t.length)return Promise.resolve(n);var r=t,o=r[0],i=r.slice(1);return Promise.resolve(bn(o)).then((function(t){return null==t?e(i,n):t}))}catch(u){return Promise.reject(u)}},an="config",sn="PUT_CONFIG",cn="GET_CONFIG",fn="GET_ALL_CONFIG",ln="UPDATE_CONFIG",dn="DELETE_CONFIG",hn="CLEAR_CONFIG",pn="WHERE_CONFIG",vn="CONFIG/UPDATED",yn=function(e){return e},mn=((on={}).PUT_CONFIG=function(e,t,n){var r=n.key,o=n.value;if(null==r)throw new Error("Missing 'key' for config/put.");e.put(r,o),e.broadcast(vn,rn({},e.all()))},on.GET_CONFIG=function(e,t,n){var r=n.key,o=n.fallback;if(null==r)throw new Error("Missing 'key' for config/get");t.reply(e.get(r,o))},on.GET_ALL_CONFIG=function(e,t){t.reply(rn({},e.all()))},on.UPDATE_CONFIG=function(e,t,n){var r=n.key,o=n.fn;if(null==r)throw new Error("Missing 'key' for config/update");e.update(r,o||yn),e.broadcast(vn,rn({},e.all()))},on.DELETE_CONFIG=function(e,t,n){var r=n.key;if(null==r)throw new Error("Missing 'key' for config/delete");e.delete(r),e.broadcast(vn,rn({},e.all()))},on.CLEAR_CONFIG=function(e,t){for(var n=0,r=Object.keys(e.all());n<r.length;n++){var o=r[n];e.delete(o)}e.broadcast(vn,rn({},e.all()))},on.WHERE_CONFIG=function(e,t,n){var r=n.pattern;if(null==r)throw new Error("Missing 'pattern' for config/where");t.reply(e.where(r))},on.SUBSCRIBE=function(e,t){e.subscribe(t.from),e.send(t.from,vn,rn({},e.all()))},on.UNSUBSCRIBE=function(e,t){e.unsubscribe(t.from)},on);function gn(e,t){return tn(an,sn,{key:e,value:t}),An()}function bn(e,t){return tn(an,cn,{key:e,fallback:t},{expectReply:!0,timeout:10})}function En(){return tn(an,fn,null,{expectReply:!0,timeout:10})}function wn(e,t){return void 0===t&&(t=yn),tn(an,ln,{key:e,fn:t}),An()}function In(e){return tn(an,dn,{key:e}),An()}function Sn(e){return tn(an,pn,{pattern:e},{expectReply:!0,timeout:10})}function Pn(e){return function(e,t,n){t(e);var r="@EXIT",o=nn((function(t){try{var o;return t.send(e,Xt),Promise.resolve($t((function(){return!o&&1}),void 0,(function(){return Promise.resolve(t.receive()).then((function(i){var u=Qt.FCL_REGISTRY[e].error;return i.tag===r?(t.send(e,Zt),void(o=1)):u?(n(null,u),t.send(e,Zt),void(o=1)):void n(i.data,null)}))})))}catch(i){return Promise.reject(i)}}));return function(){return tn(o,r)}}(an,(function(){return nn(mn,an)}),e)}function Rn(){return tn(an,hn)}function An(e){return null!=e&&"object"===typeof e&&Object.keys(e).map((function(t){return gn(t,e[t])})),{put:gn,get:bn,all:En,first:un,update:wn,delete:In,where:Sn,subscribe:Pn,overload:Tn}}nn(mn,an),An.put=gn,An.get=bn,An.all=En,An.first=un,An.update=wn,An.delete=In,An.where=Sn,An.subscribe=Pn,An.overload=Tn;var kn=function(e){return e};function Tn(e,t){return void 0===e&&(e={}),void 0===t&&(t=kn),new Promise((function(n,r){try{return Promise.resolve(En()).then((function(o){var i=function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){An(e);var r=t;return Promise.resolve(En()).then((function(e){return Promise.resolve(r(e)).then((function(e){return Promise.resolve(Rn()).then((function(){return Promise.resolve(An(o)).then((function(){n(e)}))}))}))}))}),(function(e){return Promise.resolve(Rn()).then((function(){return Promise.resolve(An(o)).then((function(){r(e)}))}))}));if(i&&i.then)return i.then((function(){}))}))}catch(o){return Promise.reject(o)}}))}var Cn=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),_n=function(e){var t=e.title,n=e.message,r=e.level,o=e.always,i=void 0!==o&&o;try{return Promise.resolve(An.get("logger.level",Cn.warn)).then((function(e){var o,u,a,s,c;if(i||!(e<r)){var f,l=[("\n    %c"+(f={title:t,message:n}).title+"\n    ============================\n\n    "+f.message+"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"];switch(r){case Cn.debug:(o=console).debug.apply(o,l);break;case Cn.info:(u=console).info.apply(u,l);break;case Cn.warn:(a=console).warn.apply(a,l);break;case Cn.error:(s=console).error.apply(s,l);break;default:(c=console).log.apply(c,l)}}}))}catch(u){return Promise.reject(u)}};function On(e,t,n){if(void 0===e&&(e=[]),void 0===t&&(t=[]),void 0===n&&(n=[]),!e.length&&!t.length)return n;if(!e.length)return n;if(!t.length)return[].concat(n,[e[0]]);var r=e,o=r[0],i=r.slice(1),u=t,a=u[0],s=u.slice(1);return void 0!==o&&n.push(o),void 0!==a&&n.push(a),On(i,s,n)}function Bn(e){return function(t){return"function"===typeof t?(_n.deprecate({pkg:"FCL/SDK",subject:"Interopolation of functions into template literals",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"}),Bn(e)(t(e))):String(t)}}function Un(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"string"===typeof e?function(){return e}:Array.isArray(e)?function(t){return On(e,n.map(Bn(t))).join("").trim()}:e}function xn(){return xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xn.apply(this,arguments)}function jn(e){return jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jn(e)}function Nn(e,t){return Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Nn(e,t)}function Ln(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Fn(e,t,n){return Fn=Ln()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Nn(o,n.prototype),o},Fn.apply(null,arguments)}function Gn(e){var t="function"===typeof Map?new Map:void 0;return Gn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Fn(e,arguments,jn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Nn(r,e)},Gn(e)}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dn(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}_n.deprecate=function(e){var t=e.pkg,n=e.subject,r=e.transition,o=e.level,i=void 0===o?Cn.warn:o,u=e.message,a=void 0===u?"":u,s=e.callback,c=void 0===s?null:s,f=function(){return _n({title:(t?t+" ":"")+"Deprecation Notice",message:("\n      "+(n?(e=n,e.charAt(0).toUpperCase()+e.slice(1)+" is deprecated and will cease to work in future releases"+(t?" of "+t:"")+"."):"")+(a?"\n"+a:"")+(r?"\nYou can learn more (including a guide on common transition paths) here: "+r:"")+"\n    ").trim(),level:i});var e};return"function"===typeof c?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];try{return Promise.resolve(f()).then((function(){return Promise.resolve(c.apply(void 0,t))}))}catch(r){return Promise.reject(r)}}:f()};var Yn="UNKNOWN",zn="SCRIPT",Wn="TRANSACTION",qn="GET_TRANSACTION_STATUS",Hn="GET_ACCOUNT",Kn="GET_EVENTS",Vn="PING",Jn="GET_TRANSACTION",$n="GET_BLOCK",Xn="GET_BLOCK_HEADER",Zn="GET_COLLECTION",Qn="BAD",er="OK",tr="ACCOUNT",nr="PARAM",rr="ARGUMENT",or="authorizer",ir="payer",ur="proposer",ar='{\n  "tag":"UNKNOWN",\n  "assigns":{},\n  "status":"OK",\n  "reason":null,\n  "accounts":{},\n  "params":{},\n  "arguments":{},\n  "message": {\n    "cadence":null,\n    "refBlock":null,\n    "computeLimit":null,\n    "proposer":null,\n    "payer":null,\n    "authorizations":[],\n    "params":[],\n    "arguments":[]\n  },\n  "proposer":null,\n  "authorizations":[],\n  "payer":[],\n  "events": {\n    "eventType":null,\n    "start":null,\n    "end":null,\n    "blockIds":[]\n  },\n  "transaction": {\n    "id":null\n  },\n  "block": {\n    "id":null,\n    "height":null,\n    "isSealed":null\n  },\n  "account": {\n    "addr":null\n  },\n  "collection": {\n    "id":null\n  }\n}',sr=new Set(Object.keys(JSON.parse(ar))),cr=function(){return JSON.parse(ar)},fr="abcdefghijklmnopqrstuvwxyz0123456789".split(""),lr=function(){return fr[~~(Math.random()*fr.length)]},dr=function(){return Array.from({length:10},lr).join("")},hr=function(e){return"number"===typeof e},pr=function(e){return Array.isArray(e)},vr=function(e){return null!==e&&"object"===typeof e},yr=function(e){return null==e},mr=function(e){return"function"===typeof e},gr=function(e){if(!vr(e)||yr(e)||hr(e))return!1;for(var t,n=Mn(sr);!(t=n()).done;){var r=t.value;if(!e.hasOwnProperty(r))return!1}return!0},br=function(e){return e.status=er,e},Er=function(e,t){return e.status=Qn,e.reason=t,e},wr=function(e){return function(t){return t.tag=e,br(t)}},Ir=function(e){return null==e.keyId?e:($(!isNaN(parseInt(e.keyId)),"account.keyId must be an integer"),xn({},e,{keyId:parseInt(e.keyId)}))},Sr=function(e,t){return void 0===t&&(t={}),function(n){var r;$("function"===typeof e||"object"===typeof e,"prepAccount must be passed an authorization function or an account object"),$(null!=t.role,"Account must have a role");var o=JSON.parse('{\n  "kind":"ACCOUNT",\n  "tempId":null,\n  "addr":null,\n  "keyId":null,\n  "sequenceNum":null,\n  "signature":null,\n  "signingFunction":null,\n  "resolve":null,\n  "role": {\n    "proposer":false,\n    "authorizer":false,\n    "payer":false,\n    "param":false\n  }\n}'),i=t.role,u=dr();e.authorization&&mr(e.authorization)&&(e={resolve:e.authorization}),!e.authorization&&mr(e)&&(e={resolve:e});var a=e.resolve;return a&&(e.resolve=function(e){return[a,Ir].reduce((function(e,t){try{var n=arguments;return Promise.resolve(e).then((function(e){return t.apply(void 0,[e].concat([].slice.call(n,1)))}))}catch(r){return Promise.reject(r)}}),e)}),e=Ir(e),n.accounts[u]=xn({},o,{tempId:u},e,{role:xn({},o.role,"object"===typeof e.role?e.role:{},(r={},r[i]=!0,r))}),i===or?n.authorizations.push(u):i===ir?n.payer.push(u):n[i]=u,n}},Pr=function(e){return function(t){var n=dr();return t.message.arguments.push(n),t.arguments[n]=JSON.parse('{\n  "kind":"ARGUMENT",\n  "tempId":null,\n  "value":null,\n  "asArgument":null,\n  "xform":null,\n  "resolve": null,\n  "resolveArgument": null\n}'),t.arguments[n].tempId=n,t.arguments[n].value=e.value,t.arguments[n].asArgument=e.asArgument,t.arguments[n].xform=e.xform,t.arguments[n].resolve=e.resolve,t.arguments[n].resolveArgument=mr(e.resolveArgument)?e.resolveArgument.bind(e):e.resolveArgument,br(t)}},Rr=wr(Yn),Ar=wr(zn),kr=wr(Wn),Tr=wr(qn),Cr=wr(Jn),_r=wr(Hn),Or=wr(Kn),Br=wr(Vn),Ur=wr($n),xr=wr(Xn),jr=wr(Zn),Nr=function(e){return function(t){return t.tag===e}},Lr=Nr(Yn),Fr=Nr(zn),Gr=Nr(Wn),Dr=Nr(qn),Mr=Nr(Jn),Yr=Nr(Hn),zr=Nr(Kn),Wr=Nr(Vn),qr=Nr($n),Hr=Nr(Xn),Kr=Nr(Zn),Vr=function(e){return e.status===er},Jr=function(e){return e.status===Qn},$r=function(e){return e.reason},Xr=function e(t,n){void 0===n&&(n=[]);try{return Promise.resolve(function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){return Promise.resolve(t).then((function(r){if(t=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if(!sr.has(r))throw new Error('"'+r+'" is an invalid root level Interaction property.')}return e}(r),Jr(t))throw new Error("Interaction Error: "+t.reason);if(!n.length)return t;var o=n,i=o[0],u=o.slice(1);return Promise.resolve(i).then((function(n){if(mr(n))return e(n(t),u);if(yr(n)||!n)return e(t,u);if(gr(n))return e(n,u);throw new Error("Invalid Interaction Composition")}))}))}),(function(e){throw e})))}catch(r){return Promise.reject(r)}},Zr=function e(){var t=[].slice.call(arguments),n=t[0],r=t[1];return pr(n)&&null==r?function(t){return e(t,n)}:Xr(n,r)},Qr=function(e){return e},eo=function(e,t,n){return null==e.assigns[t]?n:e.assigns[t]},to=function(e,t){return function(n){return n.assigns[e]=t,br(n)}},no=function(e,t){return void 0===t&&(t=Qr),function(n){return n.assigns[e]=t(n.assigns[e],n),br(n)}},ro={__proto__:null,UNKNOWN:Yn,SCRIPT:zn,TRANSACTION:Wn,GET_TRANSACTION_STATUS:qn,GET_ACCOUNT:Hn,GET_EVENTS:Kn,PING:Vn,GET_TRANSACTION:Jn,GET_BLOCK:$n,GET_BLOCK_HEADER:Xn,GET_COLLECTION:Zn,BAD:Qn,OK:er,ACCOUNT:tr,PARAM:nr,ARGUMENT:rr,AUTHORIZER:or,PAYER:ir,PROPOSER:ur,interaction:cr,uuid:dr,isNumber:hr,isArray:pr,isObj:vr,isNull:yr,isFn:mr,isInteraction:gr,Ok:br,Bad:Er,prepAccount:Sr,makeArgument:Pr,makeUnknown:Rr,makeScript:Ar,makeTransaction:kr,makeGetTransactionStatus:Tr,makeGetTransaction:Cr,makeGetAccount:_r,makeGetEvents:Or,makePing:Br,makeGetBlock:Ur,makeGetBlockHeader:xr,makeGetCollection:jr,isUnknown:Lr,isScript:Fr,isTransaction:Gr,isGetTransactionStatus:Dr,isGetTransaction:Mr,isGetAccount:Yr,isGetEvents:zr,isPing:Wr,isGetBlock:qr,isGetBlockHeader:Hr,isGetCollection:Kr,isOk:Vr,isBad:Jr,why:$r,isAccount:function(e){return e.kind===tr},isParam:function(e){return e.kind===nr},isArgument:function(e){return e.kind===rr},pipe:Zr,get:eo,put:to,update:no,destroy:function(e){return function(t){return delete t.assigns[e],br(t)}}};function oo(e){return void 0===e&&(e=[]),Zr(cr(),e)}var io=function(){return JSON.parse('{\n    "tag":null,\n    "transaction":null,\n    "transactionStatus":null,\n    "transactionId":null,\n    "encodedData":null,\n    "events":null,\n    "account":null,\n    "block":null,\n    "blockHeader":null,\n    "latestBlock":null,\n    "collection":null\n}')};function uo(e){return void 0===e&&(e=null),Zr([Ur,function(t){return t.block.isSealed=e,br(t)}])}function ao(e){return Zr([_r,function(t){return t.account.addr=qe(e),br(t)}])}var so=function(e){return Promise.resolve(e)},co=function(e,t,n){try{return Promise.resolve(e.fields.reduce((function(e,r){return Promise.resolve(e).then((function(o){return e=o,Promise.resolve(ho(r.value,t,[].concat(n,[r.name]))).then((function(t){return e[r.name]=t,e}))}))}),Promise.resolve({}))).then((function(n){var r=e.id&&lo(t,e.id);return r?Promise.resolve(r(n)):n}))}catch(r){return Promise.reject(r)}},fo={UInt:so,Int:so,UInt8:so,Int8:so,UInt16:so,Int16:so,UInt32:so,Int32:so,UInt64:so,Int64:so,UInt128:so,Int128:so,UInt256:so,Int256:so,Word8:so,Word16:so,Word32:so,Word64:so,UFix64:so,Fix64:so,String:so,Character:so,Bool:so,Address:so,Void:function(){return Promise.resolve(null)},Optional:function(e,t,n){return Promise.resolve(e?ho(e,t,n):null)},Reference:function(e){try{return Promise.resolve({address:e.address,type:e.type})}catch(t){return Promise.reject(t)}},Array:function(e,t,n){try{return Promise.resolve(Promise.all(e.map((function(e){return new Promise((function(r){try{return Promise.resolve(ho(e,t,[].concat(n,[e.type]))).then(r)}catch(o){return Promise.reject(o)}}))}))))}catch(r){return Promise.reject(r)}},Dictionary:function(e,t,n){try{return Promise.resolve(e.reduce((function(e,r){return Promise.resolve(e).then((function(o){return e=o,Promise.resolve(ho(r.key,t,[].concat(n,[r.key]))).then((function(o){return Promise.resolve(ho(r.value,t,[].concat(n,[r.key]))).then((function(t){return e[o]=t,e}))}))}))}),Promise.resolve({})))}catch(r){return Promise.reject(r)}},Event:co,Resource:co,Struct:co,Enum:co,Type:function(e){try{return Promise.resolve(e.staticType)}catch(t){return Promise.reject(t)}},Path:function(e){try{return Promise.resolve({domain:e.domain,identifier:e.identifier})}catch(t){return Promise.reject(t)}},Capability:function(e){try{return Promise.resolve({path:e.path,address:e.address,borrowType:e.borrowType})}catch(t){return Promise.reject(t)}}},lo=function(e,t){var n=Object.keys(e).find((function(e){return/^\/.*\/$/.test(e)?new RegExp(e.substring(1,e.length-1)).test(t):e===t}));return t&&n&&e[n]},ho=function(e,t,n){try{var r=lo(t,e.type);if(!r)throw new Error("Undefined Decoder Error: "+e.type+"@"+n.join("."));return Promise.resolve(r(e.value,t,n))}catch(o){return Promise.reject(o)}},po=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]);try{var r=Object.keys(fo).filter((function(e){return!Object.keys(t).find((function(t){return new RegExp(t).test(e)}))})).reduce((function(e,t){return e[t]=fo[t],e}),t),o=xn({},r,t);return ho(e,o,n)}catch(i){return Promise.reject(i)}},vo=function(e,t){void 0===t&&(t={});try{var n,r=function(){if(e.encodedData){var r=po(e.encodedData,t);return n=1,r}return e.transactionStatus?Promise.resolve(Promise.all(e.transactionStatus.events.map((function(e){try{var n=e.eventIndex,r=e.transactionIndex,o=e.transactionId,i=e.type;return Promise.resolve(po(e.payload,t)).then((function(e){return{type:i,transactionId:o,transactionIndex:r,eventIndex:n,data:e}}))}catch(e){return Promise.reject(e)}})))).then((function(t){var r=xn({},e.transactionStatus,{events:t});return n=1,r})):function(){if(e.transaction){var r=e.transaction;return n=1,r}return function(){if(e.events)return Promise.resolve(Promise.all(e.events.map((function(e){try{var n=e.eventIndex,r=e.transactionIndex,o=e.transactionId,i=e.type,u=e.blockTimestamp,a=e.blockHeight,s=e.blockId;return Promise.resolve(po(e.payload,t)).then((function(e){return{blockId:s,blockHeight:a,blockTimestamp:u,type:i,transactionId:o,transactionIndex:r,eventIndex:n,data:e}}))}catch(e){return Promise.reject(e)}})))).then((function(e){return n=1,e}));if(e.account){var r=e.account;return n=1,r}if(e.block){var o=e.block;return n=1,o}if(e.blockHeader){var i=e.blockHeader;return n=1,i}if(e.latestBlock){Fe.deprecate({pkg:"@onflow/decode",subject:"Operating upon data of the latestBlock field of the response object",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field"});var u=e.latestBlock;return n=1,u}if(e.transactionId){var a=e.transactionId;return n=1,a}if(e.collection){var s=e.collection;return n=1,s}}()}()}();return Promise.resolve(r&&r.then?r.then((function(e){return n?e:null})):n?r:null)}catch(o){return Promise.reject(o)}};var yo=function(e){return"function"===typeof e},mo=function(e){return"string"===typeof e};const go="undefined"!==typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function bo(e,t,n){if(!e.s){if(n instanceof Eo){if(!n.s)return void(n.o=bo.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(bo.bind(null,e,t),bo.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var Eo=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,o=this.s;if(o){var i=1&o?t:n;if(i){try{bo(r,1,i(this.v))}catch(u){bo(r,2,u)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?bo(r,1,t?t(o):o):n?bo(r,1,n(o)):bo(r,2,o)}catch(u){bo(r,2,u)}},r},e}();function wo(e){return e instanceof Eo&&1&e.s}function Io(e,t,n){if("function"===typeof e[go]){var r,o,i,u=e[go]();if(function e(a){try{for(;!(r=u.next()).done&&(!n||!n());)if((a=t(r.value))&&a.then){if(!wo(a))return void a.then(e,i||(i=bo.bind(null,o=new Eo,2)));a=a.v}o?bo(o,1,a):o=a}catch(s){bo(o||(o=new Eo),2,s)}}(),u.return){var a=function(e){try{r.done||u.return()}catch(t){}return e};if(o&&o.then)return o.then(a,(function(e){throw a(e)}));a()}return o}if(!("length"in e))throw new TypeError("Object is not iterable");for(var s=[],c=0;c<e.length;c++)s.push(e[c]);return function(e,t,n){var r,o,i=-1;return function u(a){try{for(;++i<e.length&&(!n||!n());)if((a=t(i))&&a.then){if(!wo(a))return void a.then(u,o||(o=bo.bind(null,r=new Eo,2)));a=a.v}r?bo(r,1,a):r=a}catch(s){bo(r||(r=new Eo),2,s)}}(),r}(s,(function(e){return t(s[e])}),n)}var So=function e(t,n){void 0===n&&(n=3);try{return $(n>0,"Argument Resolve Recursion Limit Exceeded for Arg: "+t.tempId),Po(t.resolveArgument)?Promise.resolve(t.resolveArgument()).then((function(t){return e(t,n-1)})):Promise.resolve(t)}catch(r){return Promise.reject(r)}},Po=function(e){return"function"===typeof e};var Ro,Ao,ko=function(e){return Oo(Lo(Go(e)))},To=function(e){return Oo(Lo(Do(e)))},Co=function(e,t){return Ge.Buffer.from(e.padStart(2*t,0),"hex")},_o=(Ro=Ge.Buffer.from("FLOW-V0.0-transaction").toString("hex"),Ao=32,Ge.Buffer.from(Ro.padEnd(2*Ao,0),"hex")).toString("hex"),Oo=function(e){return _o+e},Bo=function(e){return Co(e,8)},Uo=function(e){return Co(e,32)},xo=function(e){return Ge.Buffer.from(JSON.stringify(e),"utf8")},jo=function(e){return Ge.Buffer.from(e,"utf8")},No=function(e){return Ge.Buffer.from(e,"hex")},Lo=function(e){return De(e).toString("hex")},Fo=function(e){var t=new Mt.Aj(256);return t.update(Ge.Buffer.from(e,"hex")),t.digest().toString("hex")},Go=function(e){return Wo(e),[jo(e.cadence),e.arguments.map(xo),Uo(e.refBlock),e.computeLimit,Bo(qe(e.proposalKey.address)),e.proposalKey.keyId,e.proposalKey.sequenceNum,Bo(qe(e.payer)),e.authorizers.map((function(e){return Bo(qe(e))}))]},Do=function(e){return qo(e),[Go(e),Mo(e)]},Mo=function(e){var t=Yo(e);return e.payloadSigs.map((function(e){return{signerIndex:t.get(e.address),keyId:e.keyId,sig:e.sig}})).sort((function(e,t){return e.signerIndex>t.signerIndex?1:e.signerIndex<t.signerIndex?-1:e.keyId>t.keyId?1:e.keyId<t.keyId?-1:void 0})).map((function(e){return[e.signerIndex,e.keyId,No(e.sig)]}))},Yo=function(e){var t=new Map,n=0,r=function(e){t.has(e)||(t.set(e,n),n++)};return r(e.proposalKey.address),r(e.payer),e.authorizers.forEach(r),t},zo=function(e){Ho(e);var t=Yo(e),n=function(e){return e.map((function(e){var n=e.address,r=e.keyId,o=e.sig;return{signerIndex:t.get(n),keyId:r,sig:o}})).sort((function(e,t){return e.signerIndex>t.signerIndex?1:e.signerIndex<t.signerIndex?-1:e.keyId>t.keyId?1:e.keyId<t.keyId?-1:void 0})).map((function(e){return[e.signerIndex,e.keyId,No(e.sig)]}))};return[[jo(e.cadence),e.arguments.map(xo),Uo(e.refBlock),e.computeLimit,Bo(qe(e.proposalKey.address)),e.proposalKey.keyId,e.proposalKey.sequenceNum,Bo(qe(e.payer)),e.authorizers.map((function(e){return Bo(qe(e))}))],n(e.payloadSigs),n(e.envelopeSigs)]},Wo=function(e){Xo.forEach((function(t){return ri(e,t)})),Zo.forEach((function(t){return ri(e.proposalKey,t,"proposalKey")}))},qo=function(e){Qo.forEach((function(t){return ri(e,t)})),e.payloadSigs.forEach((function(e,t){ei.forEach((function(n){return ri(e,n,"payloadSigs",t)}))}))},Ho=function(e){Xo.forEach((function(t){return ri(e,t)})),Zo.forEach((function(t){return ri(e.proposalKey,t,"proposalKey")})),Qo.forEach((function(t){return ri(e,t)})),e.payloadSigs.forEach((function(e,t){ei.forEach((function(n){return ri(e,n,"payloadSigs",t)}))})),ti.forEach((function(t){return ri(e,t)})),e.envelopeSigs.forEach((function(e,t){ni.forEach((function(n){return ri(e,n,"envelopeSigs",t)}))}))},Ko=function(e){return"number"===typeof e},Vo=function(e){return"string"===typeof e},Jo=function(e){return null!==e&&"object"===typeof e},$o=function(e){return Jo(e)&&e instanceof Array},Xo=[{name:"cadence",check:Vo},{name:"arguments",check:$o},{name:"refBlock",check:Vo,defaultVal:"0"},{name:"computeLimit",check:Ko},{name:"proposalKey",check:Jo},{name:"payer",check:Vo},{name:"authorizers",check:$o}],Zo=[{name:"address",check:Vo},{name:"keyId",check:Ko},{name:"sequenceNum",check:Ko}],Qo=[{name:"payloadSigs",check:$o}],ei=[{name:"address",check:Vo},{name:"keyId",check:Ko},{name:"sig",check:Vo}],ti=[{name:"envelopeSigs",check:$o}],ni=[{name:"address",check:Vo},{name:"keyId",check:Ko},{name:"sig",check:Vo}],ri=function(e,t,n,r){var o=t.name,i=t.check,u=t.defaultVal;if(null==e[o]&&null!=u&&(e[o]=u),null==e[o])throw ii(o,n,r);if(!i(e[o]))throw ui(o,n,r)},oi=function(e,t,n){return t?null==n?t+"."+e:t+"."+n+"."+e:e},ii=function(e,t,n){return new Error("Missing field "+oi(e,t,n))},ui=function(e,t,n){return new Error("Invalid field "+oi(e,t,n))};function ai(e){var t=new Set(e.authorizations);return t.add(e.proposer),Array.isArray(e.payer)?e.payer.forEach((function(e){return t.delete(e)})):t.delete(e.payer),Array.from(t)}function si(e){var t=new Set(Array.isArray(e.payer)?e.payer:[e.payer]);return Array.from(t)}var ci=function(e){var t;return(t={cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit}).arguments=e.message.arguments.map((function(t){return e.arguments[t].asArgument})),t.proposalKey={address:He(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum},t.payer=He(e.accounts[Array.isArray(e.payer)?e.payer[0]:e.payer].addr),t.authorizers=function(){var t=e.authorizations.map((function(t){return He(e.accounts[t].addr)})).reduce((function(e,t){return e.find((function(e){return e===t}))?e:[].concat(e,[t])}),[]);return t[0]?t:[]}(),t.payloadSigs=ai(e).map((function(t){return{address:He(e.accounts[t].addr),keyId:e.accounts[t].keyId,sig:e.accounts[t].signature}})),t.envelopeSigs=si(e).map((function(t){return{address:He(e.accounts[t].addr),keyId:e.accounts[t].keyId,sig:e.accounts[t].signature}})),t},fi=function(e){return function(e){return Fo(Lo(zo(e)))}(e)};var li="undefined"!==typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function di(e,t,n){if(!e.s){if(n instanceof hi){if(!n.s)return void(n.o=di.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(di.bind(null,e,t),di.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var hi=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,o=this.s;if(o){var i=1&o?t:n;if(i){try{di(r,1,i(this.v))}catch(u){di(r,2,u)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?di(r,1,t?t(o):o):n?di(r,1,n(o)):di(r,2,o)}catch(u){di(r,2,u)}},r},e}();function pi(e){return e instanceof hi&&1&e.s}function vi(e,t,n){if("function"===typeof e[li]){var r,o,i,u=e[li]();if(function e(a){try{for(;!(r=u.next()).done&&(!n||!n());)if((a=t(r.value))&&a.then){if(!pi(a))return void a.then(e,i||(i=di.bind(null,o=new hi,2)));a=a.v}o?di(o,1,a):o=a}catch(s){di(o||(o=new hi),2,s)}}(),u.return){var a=function(e){try{r.done||u.return()}catch(t){}return e};if(o&&o.then)return o.then(a,(function(e){throw a(e)}));a()}return o}if(!("length"in e))throw new TypeError("Object is not iterable");for(var s=[],c=0;c<e.length;c++)s.push(e[c]);return function(e,t,n){var r,o,i=-1;return function u(a){try{for(;++i<e.length&&(!n||!n());)if((a=t(i))&&a.then){if(!pi(a))return void a.then(u,o||(o=di.bind(null,r=new hi,2)));a=a.v}r?di(r,1,a):r=a}catch(s){di(r||(r=new hi),2,s)}}(),r}(s,(function(e){return t(s[e])}),n)}var yi=function e(t,n,r,o){void 0===o&&(o=3);try{var i,u=function(e){r&&(t.authorizations=t.authorizations.map((function(e){return e===r.tempId?a:e})).reduce((function(e,t){return Array.isArray(t)?[].concat(e,t):[].concat(e,[t])}),[]))};$(o,"Account Resolve Recursion Limit Exceeded",{ix:t,accounts:n});var a=[],s=vi(n,(function(n){function i(){function i(e){s.tempId!=n.tempId&&delete t.accounts[s.tempId]}var u=function(){if(Array.isArray(n))return Promise.resolve(e(t,n,s,o-1)).then((function(){}));if(null!=n.addr&&null!=n.keyId&&(n.tempId=n.addr+"-"+n.keyId),t.accounts[n.tempId]=t.accounts[n.tempId]||n,t.accounts[n.tempId].role.proposer=t.accounts[n.tempId].role.proposer||n.role.proposer,t.accounts[n.tempId].role.payer=t.accounts[n.tempId].role.payer||n.role.payer,t.accounts[n.tempId].role.authorizer=t.accounts[n.tempId].role.authorizer||n.role.authorizer,t.accounts[n.tempId].role.proposer&&t.proposer===s.tempId&&(t.proposer=n.tempId),t.accounts[n.tempId].role.payer&&(Array.isArray(t.payer)?t.payer=Array.from(new Set([].concat(t.payer,[n.tempId]).map((function(e){return e===s.tempId?n.tempId:e})))):t.payer=Array.from(new Set([t.payer,n.tempId].map((function(e){return e===s.tempId?n.tempId:e})))),t.payer.length>1)){var i=[],u=[];if(t.payer=t.payer.reduce((function(e,n){var r=t.accounts[n],o=r.addr,a=o+"-"+r.keyId;return u.push(o),i.includes(a)?e:(i.push(a),[].concat(e,[n]))}),[]),Array.from(new Set(u)).length>1)throw new Error("Payer can not be different accounts")}t.accounts[n.tempId].role.authorizer&&(r?a=Array.from(new Set([].concat(a,[n.tempId]))):t.authorizations=t.authorizations.map((function(e){return e===s.tempId?n.tempId:e})))}();return u&&u.then?u.then(i):i()}var u=n.resolve;n.resolve=null;var s=r||n,c=function(){if(mi(u))return Promise.resolve(u(n,function(e,t){try{return{f_type:"PreSignable",f_vsn:"1.0.1",roles:e.role,cadence:t.message.cadence,args:t.message.arguments.map((function(e){return t.arguments[e].asArgument})),data:{},interaction:t,voucher:ci(t)}}catch(n){throw console.error("buildPreSignable",n),n}}(n,t))).then((function(e){n=e}))}();return c&&c.then?c.then(i):i()}),(function(){return i}));return Promise.resolve(s&&s.then?s.then(u):u())}catch(c){return Promise.reject(c)}},mi=function(e){return"function"===typeof e};function gi(e,t){return function(n){try{var r=e.accounts[n];return null!=r.signature?Promise.resolve():Promise.resolve(r.signingFunction(function(e,t,n){try{return{f_type:"Signable",f_vsn:"1.0.1",message:t,addr:qe(e.addr),keyId:e.keyId,roles:e.role,cadence:n.message.cadence,args:n.message.arguments.map((function(e){return n.arguments[e].asArgument})),data:{},interaction:n,voucher:ci(n)}}catch(r){throw console.error("buildSignable",r),r}}(r,t,e))).then((function(t){var r=t.signature;e.accounts[n].signature=r}))}catch(o){return Promise.reject(o)}}}function bi(e){var t,n=qe((Array.isArray(e.payer)?e.accounts[e.payer[0]]:e.accounts[e.payer]).addr);return(t={cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit}).arguments=e.message.arguments.map((function(t){return e.arguments[t].asArgument})),t.proposalKey={address:qe(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum},t.payer=n,t.authorizers=e.authorizations.map((function(t){return qe(e.accounts[t].addr)})).reduce((function(e,t){return e.find((function(e){return e===t}))?e:[].concat(e,[t])}),[]),t}var Ei=100,wi=function(e){return e},Ii=function(e,t){return void 0===t&&(t=wi),function(n){try{var r=function(e){return["\nAccounts:",{proposer:e.proposer,authorizations:e.authorizations,payer:e.payer},"\n\nDetails:",e.accounts].filter(Boolean)},o=function(){var t;(t=console).log.apply(t,["debug["+e+"] ---\n"].concat([].slice.call(arguments),["\n\n\n---"]))};return Promise.resolve(H.get("debug."+e)).then((function(e){var i=function(){if(e)return Promise.resolve(t(n,o,r)).then((function(){}))}();return i&&i.then?i.then((function(){return n})):n}))}catch(i){return Promise.reject(i)}}},Si=Zr([function(e){try{var t=function(){if(Gr(e)||Fr(e)){var t=function(){return $(mo(n),"Cadence needs to be a string at this point."),Promise.resolve(H().where(/^0x/).then((function(e){return Object.entries(e).reduce((function(e,t){var n=t[0],r=t[1],o=new RegExp("(\\b"+n+"\\b)","g");return e.replace(o,r)}),n)}))).then((function(t){e.message.cadence=t}))},n=eo(e,"ix.cadence");$(yo(n)||mo(n),"Cadence needs to be a function or a string.");var r=function(){if(yo(n))return Promise.resolve(n({})).then((function(e){n=e}))}();return r&&r.then?r.then(t):t()}}();return Promise.resolve(t&&t.then?t.then((function(){return e})):e)}catch(n){return Promise.reject(n)}},Ii("cadence",(function(e,t){return t(e.message.cadence)})),function(e){try{var t=function(){if(Gr(e)){var t=function(t){e.message.computeLimit=t,e.message.computeLimit||(Fe.deprecate({pkg:"FCL/SDK",subject:"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit"}),e.message.computeLimit=Ei)},n=e.message.computeLimit;return n?t(n):Promise.resolve(H.get("fcl.limit")).then(t)}}();return Promise.resolve(t&&t.then?t.then((function(){return e})):e)}catch(n){return Promise.reject(n)}},Ii("compute limit",(function(e,t){return t(e.message.computeLimit)})),function(e){try{var t=function(){if(Gr(e)||Fr(e)){var t=Io(Object.entries(e.arguments),(function(t){var n=t[0],r=t[1];return Promise.resolve(So(r)).then((function(t){e.arguments[n].asArgument=function(e){if($(null!=typeof e.xform,"No type specified for argument: "+e.value),Po(e.xform))return e.xform(e.value);if(Po(e.xform.asArgument))return e.xform.asArgument(e.value);$(!1,"Invalid Argument",e)}(t)}))}));if(t&&t.then)return t.then((function(){}))}}();return Promise.resolve(t&&t.then?t.then((function(){return e})):e)}catch(n){return Promise.reject(n)}},Ii("arguments",(function(e,t){return t(e.message.arguments,e.message)})),function(e){try{var t=function(){if(Gr(e))return Array.isArray(e.payer)||Fe.deprecate({pkg:"FCL",subject:'"ix.payer" must be an array. Support for ix.payer as a singular',message:"See changelog for more info."}),function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){return Promise.resolve(yi(e,Object.values(e.accounts))).then((function(){return Promise.resolve(yi(e,Object.values(e.accounts))).then((function(){}))}))}),(function(e){throw console.error("=== SAD PANDA ===\n\n",e,"\n\n=== SAD PANDA ==="),e}))}();return Promise.resolve(t&&t.then?t.then((function(t){return e})):e)}catch(n){return Promise.reject(n)}},Ii("accounts",(function(e,t,n){return t.apply(void 0,n(e))})),function(e){try{var t=function(){if(Gr(e)&&null==e.message.refBlock)return Promise.resolve(H().get("accessNode.api")).then((function(t){return Promise.resolve(H.first(["sdk.transport","sdk.send"],Dt)).then((function(n){return $(n,"Required value for sdk.transport is not defined in config. See: https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21"),Promise.resolve(n(oo([uo()]),{config:H,response:io,Buffer:Ge.Buffer,ix:ro},{node:t}).then(vo)).then((function(t){e.message.refBlock=t.id}))}))}))}();return Promise.resolve(t&&t.then?t.then((function(){return e})):e)}catch(n){return Promise.reject(n)}},function(e){try{var t=function(){if(Gr(e)){var t=Object.values(e.accounts).find((function(e){return e.role.proposer}));$(t,"Transactions require a proposer");var n=function(){if(null==t.sequenceNum)return Promise.resolve(H().get("accessNode.api")).then((function(n){return Promise.resolve(H.first(["sdk.transport","sdk.send"],Dt)).then((function(r){return $(r,"Required value for sdk.transport is not defined in config. See: https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21"),Promise.resolve(oo([ao(t.addr)])).then((function(o){return Promise.resolve(r(o,{config:H,response:io,Buffer:Ge.Buffer,ix:ro},{node:n}).then(vo).then((function(e){return e.keys})).then((function(e){return e.find((function(e){return e.index===t.keyId}))})).then((function(e){return e.sequenceNumber}))).then((function(n){e.accounts[t.tempId].sequenceNum=n}))}))}))}))}();if(n&&n.then)return n.then((function(){}))}}();return Promise.resolve(t&&t.then?t.then((function(){return e})):e)}catch(n){return Promise.reject(n)}},function(e){try{var t=function(){if(Gr(e))return function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){var t=ai(e),n=ko(bi(e));return Promise.resolve(Promise.all(t.map(gi(e,n)))).then((function(){var n=si(e),r=To(xn({},bi(e),{payloadSigs:t.map((function(t){return{address:e.accounts[t].addr,keyId:e.accounts[t].keyId,sig:e.accounts[t].signature}}))}));return Promise.resolve(Promise.all(n.map(gi(e,r)))).then((function(){}))}))}),(function(t){throw console.error("Signatures",t,{ix:e}),t}))}();return Promise.resolve(t&&t.then?t.then((function(t){return e})):e)}catch(n){return Promise.reject(n)}},Ii("signatures",(function(e,t,n){return t.apply(void 0,n(e))})),function(e){try{for(var t=0,n=Object.keys(e.accounts);t<n.length;t++){var r=n[t];e.accounts[r].addr=qe(e.accounts[r].addr)}return Promise.resolve(e)}catch(o){return Promise.reject(o)}},function(e){try{var t=eo(e,"ix.validators",[]);return Promise.resolve(Zr(e,t.map((function(e){return function(t){return e(t,{Ok:br,Bad:Er})}}))))}catch(n){return Promise.reject(n)}},function(e){try{var t=eo(e,"ix.voucher-intercept"),n=function(){if(mr(t))return Promise.resolve(t(ci(e))).then((function(){}))}();return Promise.resolve(n&&n.then?n.then((function(){return e})):e)}catch(r){return Promise.reject(r)}},Ii("resolved",(function(e,t){return t(e)}))]);function Pi(){var e=[].slice.call(arguments);if(e.length>1){var t=e,n=t[0],r=t[1];return Pi((function(e,t){var o=t.Ok,i=t.Bad;return n?o(e):i(e,r)}))}var o=e,i=o[0];return function(e){return i(e,{Ok:br,Bad:Er})}}var Ri=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});try{return Promise.resolve(H.first(["sdk.transport","sdk.send"],t.send||Dt)).then((function(n){return Pi(n,"Required value for sdk.transport is not defined in config. See: https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21"),Promise.resolve(H.first(["sdk.resolve"],t.resolve||Si)).then((function(r){function o(o){return t.node=o,Array.isArray(e)&&(e=Zr(cr(),e)),Promise.resolve(r(e)).then((function(e){return n(e,{config:H,response:io,ix:ro,Buffer:Ge.Buffer},t)}))}var i=t.node;return i?o(i):Promise.resolve(H().get("accessNode.api")).then(o)}))}))}catch(n){return Promise.reject(n)}},Ai=function(e){try{return Promise.resolve(H().where(/^decoder\./)).then((function(t){var n=Object.entries(t).map((function(e){var t=e[0],n=e[1];return[t="/"+t.replace(/^decoder\./,"")+"$/",n]}));return vo(e,Object.fromEntries(n))}))}catch(t){return Promise.reject(t)}},ki=function(e){var t,n;function r(t){var n,r=("\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: "+t+". \n        Please ensure the address: "+t+" is intended to sign the given transaction as specified by the transaction signable.\n      ").trim();return(n=e.call(this,r)||this).name="Unable To Determine Message Encoding For Signer Addresss",n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Nn(t,n),r}(Gn(Error));function Ti(e){return no("ix.validators",(function(t){return Array.isArray(t)?t.push(e):[e]}))}function Ci(e){return Zr([function(t){return t.block.height=e,t},Ti((function(e){if("boolean"===typeof e.block.isSealed)throw new Error("Unable to specify both block height and isSealed.");if(e.block.id)throw new Error("Unable to specify both block height and block id.");return e}))])}function _i(e){return Zr([function(t){return t.block.id=e,br(t)},Ti((function(e,t){var n=t.Ok,r=t.Bad;return Yr(e)?r(e,"Unable to specify a block id with a Get Account interaction."):"boolean"===typeof e.block.isSealed?r(e,"Unable to specify both block id and isSealed."):e.block.height?r(e,"Unable to specify both block id and block height."):n(e)}))])}function Oi(e,t,n){var r=void 0===t?{}:t,o=r.height,i=r.id;return $(!(i&&o),'Method: account -- Cannot pass "id" and "height" simultaneously'),i?Ri([ao(e),_i(i)],n).then(vo):o?Ri([ao(e),Ci(o)],n).then(vo):Ri([ao(e)],n).then(vo)}function Bi(e,t){var n=void 0===e?{}:e,r=n.sealed,o=void 0!==r&&r,i=n.id,u=n.height;return void 0===t&&(t={}),$(!(o&&i||o&&u),'Method: block -- Cannot pass "sealed" with "id" or "height"'),$(!(i&&u),'Method: block -- Cannot pass "id" and "height" simultaneously'),i?Ri([uo(),_i(i)],t).then(vo):u?Ri([uo(),Ci(u)],t).then(vo):Ri([uo(o)],t).then(vo)}function Ui(e){return void 0===e&&(e=[]),Zr(e.map((function(e){return Sr(e,{role:or})})))}function xi(e,t,n,r){return{addr:e,signingFunction:t,keyId:n,sequenceNum:r}}function ji(e,t,n){return"undefined"===typeof t&&"undefined"===typeof n||Fe.deprecate({pkg:"FCL/SDK",subject:"Passing a start and end into getEvents",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder"}),Zr([Or,function(r){return r.events.eventType=e,r.events.start=t,r.events.end=n,br(r)}])}function Ni(e,t,n){return Zr([Or,function(r){return r.events.eventType=e,r.events.start=t,r.events.end=n,br(r)}])}function Li(e,t){return void 0===t&&(t=[]),Zr([Or,function(n){return n.events.eventType=e,n.events.blockIds=t,br(n)}])}function Fi(e){return void 0===e&&(e=null),Zr([xr,function(t){return t.block.isSealed=e,br(t)}])}function Gi(e){return void 0===e&&(e=null),Zr([jr,function(t){return t.collection.id=e,t}])}function Di(e){return Zr([Tr,function(t){return t.transaction.id=e,br(t)}])}function Mi(e){return Zr([Cr,function(t){return t.transaction.id=e,br(t)}])}function Yi(e){return function(t){return t.message.computeLimit=e,t}}function zi(e){return void 0===e&&(e=[]),Zr(e.map(Pr))}function Wi(e,t){return{value:e,xform:t}}var qi=function(e){try{return Promise.resolve(Sr(e,{role:ur}))}catch(t){return Promise.reject(t)}},Hi=function(e){try{return Promise.resolve(Sr(e,{role:ir}))}catch(t){return Promise.reject(t)}};function Ki(){return Br}function Vi(e){return Zr([function(t){return t.message.refBlock=e,br(t)}])}function Ji(){return Zr([Ar,to("ix.cadence",Un.apply(void 0,[].slice.call(arguments)))])}var $i=[];function Xi(){return Zr([kr,to("ix.cadence",Un.apply(void 0,[].slice.call(arguments))),function(e){return e.message.refBlock=e.message.refBlock||null,e.authorizations=e.authorizations||$i,br(e)}])}function Zi(e){return to("ix.voucher-intercept",e)}var Qi=function(e){return e};var eu=["tempId"];function tu(e){return["SIGNATURE",e.addr,e.keyId].join(".")}function nu(e){return void 0===e&&(e={}),function(t){var n=xn({},t,e,{signingFunction:e.signingFunction||t.signingFunction||function(e){return{addr:n.addr,keyId:n.keyId,signature:tu(n)}}});return n}}var ru={proposer:!1,authorizer:!1,payer:!1};var ou,iu={__proto__:null,mockSend:function(e){return void 0===e&&(e=Qi),function(t){return Promise.resolve(t).then((function(n){switch(t=n,!0){case Yr(t):return function(e,t){return void 0===t&&(t=5),$(e.account,"mockAccountResponse(ix) -- ix.account is missing",e),$(e.account.addr,"mockAccountResponse(ix) -- ix.account.addr is missing",e),{account:{addr:e.account.addr,keys:Array.from({length:t},(function(e,t){return{index:t,sequenceNumber:42}}))}}}(t);case qr(t):return{tag:"GET_BLOCK",block:{id:"32"}};default:return e(t)}}))}},authzFn:nu,authzResolve:function(e){return void 0===e&&(e={}),function(t){var n=e,r=n.tempId,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(n,eu);return xn({},t,{tempId:r||"WITH_RESOLVE",resolve:nu(o)})}},authzResolveMany:function(e){return void 0===e&&(e={}),function(t){return xn({},t,{tempId:e.tempId||"AUTHZ_RESOLVE_MANY",resolve:function(){return[e.proposer&&nu(e.proposer)({role:xn({},ru,{proposer:!0})})].concat(e.authorizations.map(nu).map((function(e){return e({role:xn({},ru,{authorizer:!0})})})),[e.payer&&nu(e.payer)({role:xn({},ru,{payer:!0})})]).filter(Boolean)}})}},sig:tu,idof:function(e){return e.addr+"-"+e.keyId},run:function(e){return void 0===e&&(e=[]),oo([Vi("123")].concat(e)).then(Si)}},uu=function(e){return Fe.deprecate({pkg:"FCL/SDK",message:"The params builder has been removed from the Flow JS-SDK/FCL.",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params",level:Le.error})},au=function(e){return Fe.deprecate({pkg:"FCL/SDK",message:"The param builder has been removed from the Flow JS-SDK/FCL.",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params",level:Le.error})},su="function"===typeof queueMicrotask?queueMicrotask:function(e){return(ou||(ou=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))};function cu(){return cu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cu.apply(this,arguments)}function fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lu(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return fu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fu(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var du=function(){var e,t=[];return{deliver:function(n){try{return t.push(n),e&&(e(t.shift()),e=void 0),Promise.resolve()}catch(r){return Promise.reject(r)}},receive:function(){return new Promise((function(n){var r=t.shift();if(r)return n(r);e=n}))}}};function hu(e,t,n){if(!e.s){if(n instanceof pu){if(!n.s)return void(n.o=hu.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(hu.bind(null,e,t),hu.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var pu=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,o=this.s;if(o){var i=1&o?t:n;if(i){try{hu(r,1,i(this.v))}catch(u){hu(r,2,u)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?hu(r,1,t?t(o):o):n?hu(r,1,n(o)):hu(r,2,o)}catch(u){hu(r,2,u)}},r},e}();function vu(e){return e instanceof pu&&1&e.s}function yu(e,t,n){for(var r;;){var o=e();if(vu(o)&&(o=o.v),!o)return i;if(o.then){r=0;break}var i=n();if(i&&i.then){if(!vu(i)){r=1;break}i=i.s}if(t){var u=t();if(u&&u.then&&!vu(u)){r=2;break}}}var a=new pu,s=hu.bind(null,a,2);return(0===r?o.then(f):1===r?i.then(c):u.then(l)).then(void 0,s),a;function c(r){i=r;do{if(t&&(u=t())&&u.then&&!vu(u))return void u.then(l).then(void 0,s);if(!(o=e())||vu(o)&&!o.v)return void hu(a,1,i);if(o.then)return void o.then(f).then(void 0,s);vu(i=n())&&(i=i.v)}while(!i||!i.then);i.then(c).then(void 0,s)}function f(e){e?(i=n())&&i.then?i.then(c).then(void 0,s):c(i):hu(a,1,i)}function l(){(o=e())?o.then?o.then(f).then(void 0,s):f(o):hu(a,1,i)}}var mu="SUBSCRIBE",gu="UNSUBSCRIBE",bu="object"===typeof self&&self.self===self&&self||"object"===typeof n.g&&n.g.global===n.g&&n.g||"object"===typeof window&&window.window===window&&window;bu.FCL_REGISTRY=null==bu.FCL_REGISTRY?{}:bu.FCL_REGISTRY;var Eu=0,wu=function(e,t,n,r){return void 0===r&&(r={}),new Promise((function(o,i){var u=r.expectReply||!1,a=null!=r.timeout?r.timeout:5e3;u&&a&&setTimeout((function(){return i(new Error("Timeout: "+a+"ms passed without a response."))}),a);var s={to:e,from:r.from,tag:t,data:n,timeout:a,reply:o,reject:i};try{bu.FCL_REGISTRY[e]&&bu.FCL_REGISTRY[e].mailbox.deliver(s),u||o(!0)}catch(c){console.error("FCL.Actor -- Could Not Deliver Message",s,bu.FCL_REGISTRY[e],c)}}))},Iu=function(e,t){if(void 0===t&&(t=null),null==t&&(t=++Eu),null!=bu.FCL_REGISTRY[t])return t;bu.FCL_REGISTRY[t]={addr:t,mailbox:du(),subs:new Set,kvs:{},error:null};var n,r={self:function(){return t},receive:function(){return bu.FCL_REGISTRY[t].mailbox.receive()},send:function(e,n,r,o){return void 0===o&&(o={}),o.from=t,wu(e,n,r,o)},sendSelf:function(e,n,r){bu.FCL_REGISTRY[t]&&wu(t,e,n,r)},broadcast:function(e,n,r){void 0===r&&(r={}),r.from=t;for(var o,i=lu(bu.FCL_REGISTRY[t].subs);!(o=i()).done;){var u=o.value;wu(u,e,n,r)}},subscribe:function(e){return null!=e&&bu.FCL_REGISTRY[t].subs.add(e)},unsubscribe:function(e){return null!=e&&bu.FCL_REGISTRY[t].subs.delete(e)},subscriberCount:function(){return bu.FCL_REGISTRY[t].subs.size},hasSubs:function(){return!!bu.FCL_REGISTRY[t].subs.size},put:function(e,n){null!=e&&(bu.FCL_REGISTRY[t].kvs[e]=n)},get:function(e,n){var r=bu.FCL_REGISTRY[t].kvs[e];return null==r?n:r},delete:function(e){delete bu.FCL_REGISTRY[t].kvs[e]},update:function(e,n){null!=e&&(bu.FCL_REGISTRY[t].kvs[e]=n(bu.FCL_REGISTRY[t].kvs[e]))},keys:function(){return Object.keys(bu.FCL_REGISTRY[t].kvs)},all:function(){return bu.FCL_REGISTRY[t].kvs},where:function(e){return Object.keys(bu.FCL_REGISTRY[t].kvs).reduce((function(n,r){var o;return e.test(r)?cu({},n,((o={})[r]=bu.FCL_REGISTRY[t].kvs[r],o)):n}),{})},merge:function(e){void 0===e&&(e={}),Object.keys(e).forEach((function(n){return bu.FCL_REGISTRY[t].kvs[n]=e[n]}))},fatalError:function(e){bu.FCL_REGISTRY[t].error=e;for(var n,r=lu(bu.FCL_REGISTRY[t].subs);!(n=r()).done;){var o=n.value;wu(o,"UPDATED")}}};return"object"===typeof e&&(void 0===(n=e)&&(n={}),e=function(e){try{var t=function(){var t,r=yu((function(){return!t&&1}),void 0,(function(){return Promise.resolve(e.receive()).then((function(r){var o=function(e,t){try{var n=e()}catch(r){return t(!0,r)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,n)}((function(){return function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){function o(){return Promise.resolve(n[r.tag](e,r,r.data||{})).then((function(){}))}var i=function(){if("EXIT"===r.tag){var o=function(){t=1},i=function(){if("function"===typeof n.TERMINATE)return Promise.resolve(n.TERMINATE(e,r,r.data||{})).then((function(){}))}();return i&&i.then?i.then(o):o()}}();return i&&i.then?i.then(o):o()}),(function(t){console.error(e.self()+" Error",r,t)}))}),(function(e,t){}));if(o&&o.then)return o.then((function(){}))}))})),o=function(){if(r&&r.then)return r.then((function(){}))}();if(o&&o.then)return o.then((function(){}))},r=function(){if("function"===typeof n.INIT)return Promise.resolve(n.INIT(e)).then((function(){}))}();return Promise.resolve(r&&r.then?r.then(t):t())}catch(o){return Promise.reject(o)}}),su((function(){try{return Promise.resolve(e(r)).then((function(){!function(e){delete bu.FCL_REGISTRY[e]}(t)}))}catch(n){return Promise.reject(n)}})),t};function Su(){return Su=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Su.apply(this,arguments)}var Pu;"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var Ru=function e(t,n){void 0===t&&(t=[]);try{if(!t.length)return Promise.resolve(n);var r=t,o=r[0],i=r.slice(1);return Promise.resolve(Fu(o)).then((function(t){return null==t?e(i,n):t}))}catch(u){return Promise.reject(u)}},Au="config",ku="PUT_CONFIG",Tu="GET_CONFIG",Cu="GET_ALL_CONFIG",_u="UPDATE_CONFIG",Ou="DELETE_CONFIG",Bu="CLEAR_CONFIG",Uu="WHERE_CONFIG",xu="CONFIG/UPDATED",ju=function(e){return e},Nu=((Pu={}).PUT_CONFIG=function(e,t,n){var r=n.key,o=n.value;if(null==r)throw new Error("Missing 'key' for config/put.");e.put(r,o),e.broadcast(xu,Su({},e.all()))},Pu.GET_CONFIG=function(e,t,n){var r=n.key,o=n.fallback;if(null==r)throw new Error("Missing 'key' for config/get");t.reply(e.get(r,o))},Pu.GET_ALL_CONFIG=function(e,t){t.reply(Su({},e.all()))},Pu.UPDATE_CONFIG=function(e,t,n){var r=n.key,o=n.fn;if(null==r)throw new Error("Missing 'key' for config/update");e.update(r,o||ju),e.broadcast(xu,Su({},e.all()))},Pu.DELETE_CONFIG=function(e,t,n){var r=n.key;if(null==r)throw new Error("Missing 'key' for config/delete");e.delete(r),e.broadcast(xu,Su({},e.all()))},Pu.CLEAR_CONFIG=function(e,t){for(var n=0,r=Object.keys(e.all());n<r.length;n++){var o=r[n];e.delete(o)}e.broadcast(xu,Su({},e.all()))},Pu.WHERE_CONFIG=function(e,t,n){var r=n.pattern;if(null==r)throw new Error("Missing 'pattern' for config/where");t.reply(e.where(r))},Pu.SUBSCRIBE=function(e,t){e.subscribe(t.from),e.send(t.from,xu,Su({},e.all()))},Pu.UNSUBSCRIBE=function(e,t){e.unsubscribe(t.from)},Pu);function Lu(e,t){return wu(Au,ku,{key:e,value:t}),qu()}function Fu(e,t){return wu(Au,Tu,{key:e,fallback:t},{expectReply:!0,timeout:10})}function Gu(){return wu(Au,Cu,null,{expectReply:!0,timeout:10})}function Du(e,t){return void 0===t&&(t=ju),wu(Au,_u,{key:e,fn:t}),qu()}function Mu(e){return wu(Au,Ou,{key:e}),qu()}function Yu(e){return wu(Au,Uu,{pattern:e},{expectReply:!0,timeout:10})}function zu(e){return function(e,t,n){t(e);var r="@EXIT",o=Iu((function(t){try{var o;return t.send(e,mu),Promise.resolve(yu((function(){return!o&&1}),void 0,(function(){return Promise.resolve(t.receive()).then((function(i){var u=bu.FCL_REGISTRY[e].error;return i.tag===r?(t.send(e,gu),void(o=1)):u?(n(null,u),t.send(e,gu),void(o=1)):void n(i.data,null)}))})))}catch(i){return Promise.reject(i)}}));return function(){return wu(o,r)}}(Au,(function(){return Iu(Nu,Au)}),e)}function Wu(){return wu(Au,Bu)}function qu(e){return null!=e&&"object"===typeof e&&Object.keys(e).map((function(t){return Lu(t,e[t])})),{put:Lu,get:Fu,all:Gu,first:Ru,update:Du,delete:Mu,where:Yu,subscribe:zu,overload:Ku}}Iu(Nu,Au),qu.put=Lu,qu.get=Fu,qu.all=Gu,qu.first=Ru,qu.update=Du,qu.delete=Mu,qu.where=Yu,qu.subscribe=zu,qu.overload=Ku;var Hu=function(e){return e};function Ku(e,t){return void 0===e&&(e={}),void 0===t&&(t=Hu),new Promise((function(n,r){try{return Promise.resolve(Gu()).then((function(o){var i=function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){qu(e);var r=t;return Promise.resolve(Gu()).then((function(e){return Promise.resolve(r(e)).then((function(e){return Promise.resolve(Wu()).then((function(){return Promise.resolve(qu(o)).then((function(){n(e)}))}))}))}))}),(function(e){return Promise.resolve(Wu()).then((function(){return Promise.resolve(qu(o)).then((function(){r(e)}))}))}));if(i&&i.then)return i.then((function(){}))}))}catch(o){return Promise.reject(o)}}))}var Vu=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),Ju=function(e){var t=e.title,n=e.message,r=e.level,o=e.always,i=void 0!==o&&o;try{return Promise.resolve(qu.get("logger.level",Vu.warn)).then((function(e){var o,u,a,s,c;if(i||!(e<r)){var f,l=[("\n    %c"+(f={title:t,message:n}).title+"\n    ============================\n\n    "+f.message+"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"];switch(r){case Vu.debug:(o=console).debug.apply(o,l);break;case Vu.info:(u=console).info.apply(u,l);break;case Vu.warn:(a=console).warn.apply(a,l);break;case Vu.error:(s=console).error.apply(s,l);break;default:(c=console).log.apply(c,l)}}}))}catch(u){return Promise.reject(u)}};Ju.deprecate=function(e){var t=e.pkg,n=e.subject,r=e.transition,o=e.level,i=void 0===o?Vu.warn:o,u=e.message,a=void 0===u?"":u,s=e.callback,c=void 0===s?null:s,f=function(){return Ju({title:(t?t+" ":"")+"Deprecation Notice",message:("\n      "+(n?(e=n,e.charAt(0).toUpperCase()+e.slice(1)+" is deprecated and will cease to work in future releases"+(t?" of "+t:"")+"."):"")+(a?"\n"+a:"")+(r?"\nYou can learn more (including a guide on common transition paths) here: "+r:"")+"\n    ").trim(),level:i});var e};return"function"===typeof c?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];try{return Promise.resolve(f()).then((function(){return Promise.resolve(c.apply(void 0,t))}))}catch(r){return Promise.reject(r)}}:f()};var $u=function(e,t,n){return{label:e,asArgument:t,asInjection:n}},Xu=function(e){return Array.isArray(e)},Zu=function(e){return"object"===typeof e},Qu=function(e){return null==e},ea=function(e){return"number"===typeof e},ta=function(e){return Number.isInteger(e)},na=function(e){return"string"===typeof e},ra=function(e){throw new Error("Type Error: "+e)},oa=function(e){Ju.deprecate({pkg:"@onflow/types",subject:"Passing in Number as value for "+e,message:"Going forward, use String as value for "+e+".",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0002-[U]Int*-and-Word*-as-Number"})},ia=$u("Identity",(function(e){return e}),(function(e){return e})),ua=$u("UInt",(function(e){return ea(e)&&ta(e)?(oa("UInt"),{type:"UInt",value:e.toString()}):na(e)?{type:"UInt",value:e}:void ra("Expected Positive Integer for type Unsigned Int")}),(function(e){return e})),aa=$u("Int",(function(e){return ea(e)&&ta(e)?(oa("Int"),{type:"Int",value:e.toString()}):na(e)?{type:"Int",value:e}:void ra("Expected Integer for type Int")}),(function(e){return e})),sa=$u("UInt8",(function(e){return ea(e)&&ta(e)?(oa("UInt8"),{type:"UInt8",value:e.toString()}):na(e)?{type:"UInt8",value:e}:void ra("Expected integer for UInt8")}),(function(e){return e})),ca=$u("Int8",(function(e){return ea(e)&&ta(e)?(oa("Int8"),{type:"Int8",value:e.toString()}):na(e)?{type:"Int8",value:e}:void ra("Expected positive integer for Int8")}),(function(e){return e})),fa=$u("UInt16",(function(e){return ea(e)&&ta(e)?(oa("UInt16"),{type:"UInt16",value:e.toString()}):na(e)?{type:"UInt16",value:e}:void ra("Expected integer for UInt16")}),(function(e){return e})),la=$u("Int16",(function(e){return ea(e)&&ta(e)?(oa("Int16"),{type:"Int16",value:e.toString()}):na(e)?{type:"Int16",value:e}:void ra("Expected positive integer for Int16")}),(function(e){return e})),da=$u("UInt32",(function(e){return ea(e)&&ta(e)?(oa("UInt32"),{type:"UInt32",value:e.toString()}):na(e)?{type:"UInt32",value:e}:void ra("Expected integer for UInt32")}),(function(e){return e})),ha=$u("Int32",(function(e){return ea(e)&&ta(e)?(oa("Int32"),{type:"Int32",value:e.toString()}):na(e)?{type:"Int32",value:e}:void ra("Expected positive integer for Int32")}),(function(e){return e})),pa=$u("UInt64",(function(e){return ea(e)&&ta(e)?(oa("UInt64"),{type:"UInt64",value:e.toString()}):na(e)?{type:"UInt64",value:e}:void ra("Expected integer for UInt64")}),(function(e){return e})),va=$u("Int64",(function(e){return ea(e)&&ta(e)?(oa("Int64"),{type:"Int64",value:e.toString()}):na(e)?{type:"Int64",value:e}:void ra("Expected positive integer for Int64")}),(function(e){return e})),ya=$u("UInt128",(function(e){return ea(e)&&ta(e)?(oa("UInt128"),{type:"UInt128",value:e.toString()}):na(e)?{type:"UInt128",value:e}:void ra("Expected integer for UInt128")}),(function(e){return e})),ma=$u("Int128",(function(e){return ea(e)&&ta(e)?(oa("Int128"),{type:"Int128",value:e.toString()}):na(e)?{type:"Int128",value:e}:void ra("Expected positive integer for Int128")}),(function(e){return e})),ga=$u("UInt256",(function(e){return ea(e)&&ta(e)?(oa("UInt256"),{type:"UInt256",value:e.toString()}):na(e)?{type:"UInt256",value:e}:void ra("Expected integer for UInt256")}),(function(e){return e})),ba=$u("Int256",(function(e){return ea(e)&&ta(e)?(oa("Int256"),{type:"Int256",value:e.toString()}):na(e)?{type:"Int256",value:e}:void ra("Expected integer for Int256")}),(function(e){return e})),Ea=$u("Word8",(function(e){return ea(e)&&ta(e)?(oa("Word8"),{type:"Word8",value:e.toString()}):na(e)?{type:"Word8",value:e}:void ra("Expected positive number for Word8")}),(function(e){return e})),wa=$u("Word16",(function(e){return ea(e)&&ta(e)?(oa("Word16"),{type:"Word16",value:e.toString()}):na(e)?{type:"Word16",value:e}:void ra("Expected positive number for Word16")}),(function(e){return e})),Ia=$u("Word32",(function(e){return ea(e)&&ta(e)?(oa("Word32"),{type:"Word32",value:e.toString()}):na(e)?{type:"Word32",value:e}:void ra("Expected positive number for Word32")}),(function(e){return e})),Sa=$u("Word64",(function(e){return ea(e)&&ta(e)?(oa("Word64"),{type:"Word64",value:e.toString()}):na(e)?{type:"Word64",value:e}:void ra("Expected positive number for Word64")}),(function(e){return e})),Pa=function(){Ju.deprecate({subject:"Passing in Numbers as values for Fix64 and UFix64 types",pkg:"@onflow/types",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0001-[U]Fix64-as-Number"})},Ra=$u("UFix64",(function(e){if(na(e)){var t=e.split(".");return 2!==t.length&&ra("Expected one decimal but found "+t.length+" in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers"),(0==t[1].length||t[1].length>8)&&ra("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found "+t[1].length+" digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers"),t[1]=t[1].padEnd(8,"0"),{type:"UFix64",value:e=t.join(".")}}if(ea(e))return Pa(),{type:"UFix64",value:e.toString()};ra("Expected String for UFix64")}),(function(e){return e})),Aa=$u("Fix64",(function(e){if(na(e)){var t=e.split(".");return 2!==t.length&&ra("Expected one decimal but found "+t.length+" in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers"),(0==t[1].length||t[1].length>8)&&ra("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found "+t[1].length+" digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers"),t[1]=t[1].padEnd(8,"0"),{type:"Fix64",value:e=t.join(".")}}if(ea(e))return Pa(),{type:"Fix64",value:e.toString()};ra("Expected String for Fix64")}),(function(e){return e})),ka=$u("String",(function(e){if(na(e))return{type:"String",value:e};ra("Expected String for type String")}),(function(e){return e})),Ta=$u("Character",(function(e){if(na(e))return{type:"Character",value:e};ra("Expected Character for type Character")}),(function(e){return e})),Ca=$u("Bool",(function(e){if("boolean"===typeof e)return{type:"Bool",value:e};ra("Expected Boolean for type Bool")}),(function(e){return e})),_a=$u("Address",(function(e){if(na(e))return{type:"Address",value:e};ra("Expected Address for type Address")}),(function(e){return e})),Oa=$u("Void",(function(e){if(!e||Qu(e))return{type:"Void"};ra("Expected Void for type Void")}),(function(e){return e})),Ba=function(e){return $u("Optional",(function(t){return{type:"Optional",value:Qu(t)?null:e.asArgument(t)}}),(function(e){return e}))},Ua=$u("Reference",(function(e){if(Zu(e))return{type:"Reference",value:e};ra("Expected Object for type Reference")}),(function(e){return e})),xa=function(e){return void 0===e&&(e=[]),$u("Array",(function(t){return{type:"Array",value:Xu(e)?e.map((function(e,n){return e.asArgument(t[n])})):t.map((function(t){return e.asArgument(t)}))}}),(function(e){return e}))},ja=function(e){return void 0===e&&(e=[]),$u("Dictionary",(function(t){if(Zu(t))return{type:"Dictionary",value:Xu(e)?e.map((function(e,n){return{key:e.key.asArgument(t[n].key),value:e.value.asArgument(t[n].value)}})):Xu(t)?t.map((function(t){return{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}})):[{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}]};ra("Expected Object for type Dictionary")}),(function(e){return e}))},Na=function(e,t){return void 0===t&&(t=[]),$u("Event",(function(n){if(Zu(n))return{type:"Event",value:{id:e,fields:Xu(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};ra("Expected Object for type Event")}),(function(e){return e}))},La=function(e,t){return void 0===t&&(t=[]),$u("Resource",(function(n){if(Zu(n))return{type:"Resource",value:{id:e,fields:Xu(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};ra("Expected Object for type Resource")}),(function(e){return e}))},Fa=function(e,t){return void 0===t&&(t=[]),$u("Struct",(function(n){if(Zu(n))return{type:"Struct",value:{id:e,fields:Xu(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};ra("Expected Object for type Struct")}),(function(e){return e}))},Ga=$u("Path",(function(e){if(Zu(e))return na(e.domain)||ra("Expected a string for the Path domain but found "+e.domain+". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path"),"storage"!==e.domain&&"private"!==e.domain&&"public"!==e.domain&&ra('Expected either "storage", "private" or "public" as the Path domain but found '+e.domain+". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path"),na(e.identifier)||ra("Expected a string for the Path identifier but found "+e.identifier+". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path"),{type:"Path",value:{domain:e.domain,identifier:e.identifier}};ra("Expected Object for type Path")}),(function(e){return e})),Da="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",Ma=Da.length;function Ya(){for(var e="",t=32;t--;)e+=Da[Math.random()*Ma|0];return e}var za="1.1.0",Wa=function(e){try{return Promise.resolve(H().where(e)).then((function(t){return Object.fromEntries(Object.entries(t).map((function(t){var n=t[0],r=t[1];return[n.replace(e,""),r]})))}))}catch(t){return Promise.reject(t)}},qa={can:!("undefined"===typeof window),get:function(e){try{return Promise.resolve(JSON.parse(sessionStorage.getItem(e)))}catch(t){return Promise.reject(t)}},put:function(e,t){try{return Promise.resolve(sessionStorage.setItem(e,JSON.stringify(t)))}catch(n){return Promise.reject(n)}}};H({"discovery.wallet.method.default":"IFRAME/RPC","fcl.storage.default":qa});var Ha=function(e){return function(t){return typeof t===e}},Ka=function(e){return null!=e},Va=Ha("object"),Ja=Ha("string"),$a=Ha("function"),Xa=Ha("number");function Za(e){return $a(e)?e(Wi,r):[]}var Qa=function(e){return void 0===e&&(e={}),Promise.resolve(function(e){try{return $(Ka(e.cadence),"query({ cadence }) -- cadence is required"),$(Ja(e.cadence),"query({ cadence }) -- cadence must be a string"),Promise.resolve(H.get("accessNode.api")).then((function(e){$(e,'Required value for "accessNode.api" not defined in config. See: https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration')}))}catch(t){return Promise.reject(t)}}(e)).then((function(){return Ri([Ji(e.cadence),zi(Za(e.args||[])),e.limit&&"number"===typeof e.limit&&Yi(e.limit)]).then(Ai)}))};function es(){return es=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},es.apply(this,arguments)}function ts(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ns(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return ts(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ts(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var rs={f_type:"Service",f_vsn:"1.0.0"},os={f_type:"Identity",f_vsn:"1.0.0"},is={f_type:"USER",f_vsn:"1.0.0"},us={f_type:"PollingResponse",f_vsn:"1.0.0"},as={f_type:"CompositeSignature",f_vsn:"1.0.0"};function ss(e){return null==e?null:"1.0.0"===e.f_vsn?e:es({old:e},rs,{type:"frame",endpoint:e.endpoint,params:e.params||{},data:e.data||{}})}function cs(e){return null==e?null:"1.0.0"===e.f_vsn?e:es({},rs,{type:"back-channel-rpc",endpoint:e.endpoint,method:e.method,params:e.params||{},data:e.data||{}})}function fs(e){return null==e?null:(null==e.method&&(e=es({},e,{type:"local-view",method:"VIEW/IFRAME"})),"1.0.0"===e.f_vsn?e:es({},rs,{type:e.type||"local-view",method:e.method,endpoint:e.endpoint,data:e.data||{},params:e.params||{}}))}var ls={"back-channel-rpc":cs,"pre-authz":function(e){return null==e?null:"1.0.0"===e.f_vsn?e:es({},rs,{type:e.type,uid:e.id,endpoint:e.endpoint,method:e.method,identity:es({},os,{address:He(e.addr),keyId:e.keyId}),params:e.params,data:e.data})},authz:function(e){return null==e?null:"1.0.0"===e.f_vsn?e:es({},rs,{type:e.type,uid:e.id,endpoint:e.endpoint,method:e.method,identity:es({},os,{address:He(e.addr),keyId:e.keyId}),params:e.params,data:e.data})},authn:function(e){return null==e?null:"1.0.0"===e.f_vsn?e:es({},rs,{type:e.type,uid:e.id,endpoint:e.authn,id:e.pid,provider:{address:He(e.addr),name:e.name,icon:e.icon}})},frame:ss,"open-id":function(e){return null==e?null:"1.0.0"===e.f_vsn?e:null},"user-signature":function(e){if(null==e)return null;if("1.0.0"===e.f_vsn)return e;throw new Error("Invalid user-signature service")},"local-view":fs,"account-proof":function(e){if(null==e)return null;if("1.0.0"===e.f_vsn)return e;throw new Error("FCL Normalizer Error: Invalid account-proof service")},"authn-refresh":function(e){if(null==e)return null;if("1.0.0"===e.f_vsn)return e;throw new Error("Invalid authn-refresh service")}};function ds(e){return De([e.provider.address||e.provider.name||"UNSPECIFIED",e.id]).toString("hex")}var hs=function(e){try{var t=(e=function(e){return e.addr=e.addr?He(e.addr):null,e.paddr=e.paddr?He(e.paddr):null,e}(e)).services||[];return Promise.resolve(function(e,t){try{if(null==e||null==t)return Promise.resolve([]);var n=new URL(e);return n.searchParams.append("code",t),Promise.resolve(fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))).then((function(e){if(Array.isArray(e))return e;var t=[];if(Array.isArray(e.authorizations))for(var n,r=ns(e.authorizations);!(n=r()).done;){var o=n.value;t.push(es({type:"authz",keyId:e.keyId},o))}return null!=e.provider&&t.push(es({type:"authn",id:"wallet-provider#authn"},e.provider)),t}))}catch(r){return Promise.reject(r)}}(e.hks,e.code)).then((function(n){var r,o,i=(r=t,o=n,void 0===r&&(r=[]),void 0===o&&(o=[]),[].concat(r,o)).map((function(t){return function(e,t){try{return ls[e.type](e,t)}catch(n){return console.error("Unrecognized FCL Service Type ["+e.type+"]",e,n),e}}(t,e)})),u=function(e,t){return t.find((function(t){return t.type===e}))}("authn",i);return es({},is,{addr:He(e.addr),cid:ds(u),loggedIn:!0,services:i,expiresAt:e.expires})}))}catch(n){return Promise.reject(n)}};function ps(e,t){return void 0===e&&(e=[]),e.find((function(e){return e.type===t}))}function vs(e){var t=new URL(e.endpoint);if(t.searchParams.append("l6n",window.location.origin),null!=e.params)for(var n=0,r=Object.entries(e.params||{});n<r.length;n++){var o=r[n],i=o[0],u=o[1];t.searchParams.append(i,u)}return t}function ys(e,t){void 0===t&&(t={});var n=t.method||"POST",r="GET"===n?void 0:JSON.stringify(t.data||e.data||{});return fetch(vs(e),{method:n,headers:es({},e.headers||{},t.headers||{},{"Content-Type":"application/json"}),body:r}).then((function(e){return e.json()}))}function ms(e){var t,n;return null==e?null:"1.0.0"===e.f_vsn?e:es({},us,{status:null!=(t=e.status)?t:"APPROVED",reason:null!=(n=e.reason)?n:null,data:e.compositeSignature||e.data||es({},e)||{},updates:cs(e.authorizationUpdates),local:ss((e.local||[])[0])})}var gs=function e(t,n){void 0===n&&(n=function(){return!0});try{if($(t,"Missing Polling Service",{service:t}),!n())throw new Error("Externally Halted");return Promise.resolve(ys(t,{method:Es(t)}).then(ms)).then((function(t){switch(t.status){case"APPROVED":return t.data;case"DECLINED":throw new Error("Declined: "+(t.reason||"No reason supplied."));default:return Promise.resolve(new Promise((function(e){return setTimeout(e,500)}))).then((function(){return e(t.updates,n)}))}}))}catch(r){return Promise.reject(r)}},bs={"HTTP/GET":"GET","HTTP/POST":"POST"},Es=function(e){return $(bs[e.method],"Invalid Service Method for type back-channel-rpc",{service:e}),bs[e.method]},ws="FCL_IFRAME";function Is(e){$(!document.getElementById(ws),"Attempt at triggering multiple Frames",{src:e});var t=document.createElement("iframe");t.src=e,t.id=ws,t.allow="usb *; hid *",t.frameBorder="0",t.style.cssText="\n  position:fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  height: 100%;\n  width: 100vw;\n  display:block;\n  background:rgba(0,0,0,0.25);\n  z-index: 2147483647;\n  box-sizing: border-box;\n",document.body.append(t);return[t.contentWindow,function(){document.getElementById(ws)&&document.getElementById(ws).remove()}]}var Ss=null,Ps=null;function Rs(e){var t;null==Ss||null!=(t=Ss)&&t.closed?Ss=function(e,t,n,r,o){var i=n.top.outerHeight/2+n.top.screenY-o/2,u=n.top.outerWidth/2+n.top.screenX-r/2;return n.open(e,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+r+", height="+o+", top="+i+", left="+u)}(e,"FCL_POP",window,640,770):Ps!==e?(Ss.location.replace(e),Ss.focus()):Ss.focus(),Ps=e;return[Ss,function(){Ss&&!Ss.closed&&Ss.close(),Ss=null}]}var As=null,ks=null;function Ts(e){var t;null==As||null!=(t=As)&&t.closed?As=window.open(e,"_blank"):ks!==e?(As.location.replace(e),As.focus()):As.focus(),ks=e;return[As,function(){As&&!As.closed&&As.close(),As=null}]}var Cs={"VIEW/IFRAME":Is,"VIEW/POP":Rs,"VIEW/TAB":Ts},_s=function(e,t,n,r){try{return Promise.resolve(ys(e,{data:es({fclVersion:za,service:{params:e.params,data:e.data,type:e.type},config:r},t)}).then(ms)).then((function(t){if("APPROVED"===t.status)return t.data;if("DECLINED"===t.status)throw new Error("Declined: "+(t.reason||"No reason supplied."));if("REDIRECT"===t.status)return t;if("PENDING"===t.status){var n=!0;return Promise.resolve(function(e,t){void 0===t&&(t={});try{try{return Promise.resolve(Cs[e.method](vs(e),t))}catch(n){throw console.error("execLocal({service, opts = {}})",n,{service:e,opts:t}),n}}catch(r){return Promise.reject(r)}}(fs(t.local))).then((function(e){e[0];var r=e[1],o=function(){try{r(),n=!1}catch(e){console.error("Frame Close Error",e)}};return gs(t.updates,(function(){return n})).then((function(e){return o(),e})).catch((function(e){throw console.error(e),o(),e}))}))}throw console.error("Auto Decline: Invalid Response",{service:e,resp:t}),new Error("Auto Decline: Invalid Response")}))}catch(o){return Promise.reject(o)}},Os="FCL:VIEW:CLOSE",Bs="FCL:VIEW:READY",Us="FCL:VIEW:RESPONSE",xs=function(e){return"string"===typeof e&&e.toLowerCase()},js=new Set(["monetizationstart","monetizationpending","monetizationprogress","monetizationstop"]),Ns=function(e,t){return console.warn("DEPRECATION NOTICE","Received "+e+", please use "+t+" for this and future versions of FCL")},Ls=function(e){var t=e.close,n=e.send,r=e.onReady,o=e.onResponse,i=e.onMessage;return function(e){try{if("object"!==typeof e.data)return;if(js.has(e.data.type))return;xs(e.data.type)===xs(Os)&&t(),xs(e.data.type)===xs(Bs)&&r(e,{send:n,close:t}),xs(e.data.type)===xs(Us)&&o(e,{send:n,close:t}),i(e,{send:n,close:t}),xs(e.data.type)===xs("FCL:FRAME:READY")&&(Ns(e.data.type,Bs),r(e,{send:n,close:t})),xs(e.data.type)===xs("FCL:FRAME:RESPONSE")&&(Ns(e.data.type,Us),o(e,{send:n,close:t})),xs(e.data.type)===xs("FCL:FRAME:CLOSE")&&(Ns(e.data.type,Os),t()),xs(e.data.type)===xs("FCL::CHALLENGE::RESPONSE")&&(Ns(e.data.type,Us),o(e,{send:n,close:t})),xs(e.data.type)===xs("FCL::AUTHZ_READY")&&(Ns(e.data.type,Bs),r(e,{send:n,close:t})),xs(e.data.type)===xs("FCL::CHALLENGE::CANCEL")&&(Ns(e.data.type,Os),t()),xs(e.data.type)===xs("FCL::CANCEL")&&(Ns(e.data.type,Os),t())}catch(u){console.error("Frame Callback Error",u),t()}}},Fs=function(){};var Gs=function(){};var Ds=function(){};var Ms=function(){};var Ys,zs=function e(t){var n=t.service,r=t.msg,o=void 0===r?{}:r,i=t.opts,u=void 0===i?{}:i,a=t.config,s=void 0===a?{}:a;try{return o.data=n.data,Promise.resolve(Wa(/^service\./)).then((function(t){return Promise.resolve(Wa(/^app\.detail\./)).then((function(r){var i,a,c,f,l=es({},s,{services:t,app:r,client:{fclVersion:za,fclLibrary:"https://github.com/onflow/fcl-js",hostname:null!=(i=null==(a=window)||null==(c=a.location)?void 0:c.hostname)?i:null,extensions:(null==(f=window)?void 0:f.fcl_extensions)||[]}});return function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){return Promise.resolve(Ws[n.method](n,o,u,l)).then((function(t){return"REDIRECT"===t.status?($(n.type===t.data.type,"Cannot shift recursive service type in execService"),Promise.resolve(e({service:t.data,msg:o,opts:u,config:l}))):t}))}),(function(e){throw console.error("execService({service, msg = {}, opts = {}, config = {}})",e,{service:n,msg:o,opts:u,config:s}),e}))}))}))}catch(c){return Promise.reject(c)}},Ws={"HTTP/RPC":_s,"HTTP/POST":_s,"IFRAME/RPC":function(e,t,n,r){return new Promise((function(o,i){var u=Ya(),a=n.includeOlderJsonRpcCall;!function(e,t){if(void 0===t&&(t={}),null==e)return{send:Fs,close:Fs};var n=t.onClose||Fs,r=t.onMessage||Fs,o=t.onReady||Fs,i=t.onResponse||Fs,u=Ls({close:f,send:l,onReady:o,onResponse:i,onMessage:r});window.addEventListener("message",u);var a=Is(vs(e)),s=a[0],c=a[1];return{send:l,close:f};function f(){try{window.removeEventListener("message",u),c(),n()}catch(e){console.error("Frame Close Error",e)}}function l(e){try{s.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Frame Send Error",e,t)}}}(e,{onReady:function(n,o){var i=o.send;try{try{i({type:"FCL:VIEW:READY:RESPONSE",fclVersion:za,body:t,service:{params:e.params,data:e.data,type:e.type},config:r}),i({fclVersion:za,type:"FCL:FRAME:READY:RESPONSE",body:t,service:{params:e.params,data:e.data,type:e.type},config:r,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),a&&i({jsonrpc:"2.0",id:u,method:"fcl:sign",params:[t,e.params],deprecated:{message:"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}})}catch(s){throw s}return Promise.resolve()}catch(c){return Promise.reject(c)}},onResponse:function(e,t){var n=t.close;try{if("object"!==typeof e.data)return;var r=ms(e.data);switch(r.status){case"APPROVED":o(r.data),n();break;case"DECLINED":i("Declined: "+(r.reason||"No reason supplied")),n();break;case"REDIRECT":o(r),n();break;default:i("Declined: No reason supplied"),n()}}catch(u){throw console.error("execIframeRPC onResponse error",u),u}},onMessage:function(e,t){var n=t.close;try{if("object"!==typeof e.data)return;if("2.0"!==e.data.jsonrpc)return;if(e.data.id!==u)return;var r=ms(e.data.result);switch(r.status){case"APPROVED":o(r.data),n();break;case"DECLINED":i("Declined: "+(r.reason||"No reason supplied")),n();break;case"REDIRECT":o(r),n();break;default:i("Declined: No reason supplied"),n()}}catch(a){throw console.error("execIframeRPC onMessage error",a),a}},onClose:function(){i("Declined: Externally Halted")}})}))},"POP/RPC":function(e,t,n,r){return new Promise((function(o,i){var u=Ya(),a=n.redir,s=n.includeOlderJsonRpcCall;!function(e,t){if(void 0===t&&(t={}),null==e)return{send:Gs,close:Gs};var n=t.onClose||Gs,r=t.onMessage||Gs,o=t.onReady||Gs,i=t.onResponse||Gs,u=Ls({close:l,send:d,onReady:o,onResponse:i,onMessage:r});window.addEventListener("message",u);var a=Rs(vs(e)),s=a[0],c=a[1],f=setInterval((function(){s&&s.closed&&l()}),500);return{send:d,close:l};function l(){try{window.removeEventListener("message",u),clearInterval(f),c(),n()}catch(e){console.error("Popup Close Error",e)}}function d(e){try{s.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Popup Send Error",e,t)}}}(e,{onReady:function(n,o){var i=o.send;try{try{i({fclVersion:za,type:"FCL:VIEW:READY:RESPONSE",body:t,service:{params:e.params,data:e.data,type:e.type},config:r}),i({fclVersion:za,type:"FCL:FRAME:READY:RESPONSE",body:t,service:{params:e.params,data:e.data,type:e.type},config:r,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),s&&i({jsonrpc:"2.0",id:u,method:"fcl:sign",params:[t,e.params]})}catch(a){throw a}return Promise.resolve()}catch(c){return Promise.reject(c)}},onResponse:function(e,t){var n=t.close;try{if("object"!==typeof e.data)return;var r=ms(e.data);switch(r.status){case"APPROVED":o(r.data),!a&&n();break;case"DECLINED":i("Declined: "+(r.reason||"No reason supplied")),n();break;case"REDIRECT":o(r),n();break;default:i("Declined: No reason supplied"),n()}}catch(u){throw console.error("execPopRPC onResponse error",u),u}},onMessage:function(e,t){var n=t.close;try{if("object"!==typeof e.data)return;if("2.0"!==e.data.jsonrpc)return;if(e.data.id!==u)return;var r=ms(e.data.result);switch(r.status){case"APPROVED":o(r.data),!a&&n();break;case"DECLINED":i("Declined: "+(r.reason||"No reason supplied")),n();break;case"REDIRECT":o(r),n();break;default:i("Declined: No reason supplied"),n()}}catch(s){throw console.error("execPopRPC onMessage error",s),s}},onClose:function(){i("Declined: Externally Halted")}})}))},"TAB/RPC":function(e,t,n,r){return new Promise((function(o,i){var u=Ya(),a=n.redir,s=n.includeOlderJsonRpcCall;!function(e,t){if(void 0===t&&(t={}),null==e)return{send:Ds,close:Ds};var n=t.onClose||Ds,r=t.onMessage||Ds,o=t.onReady||Ds,i=t.onResponse||Ds,u=Ls({close:l,send:d,onReady:o,onResponse:i,onMessage:r});window.addEventListener("message",u);var a=Ts(vs(e)),s=a[0],c=a[1],f=setInterval((function(){s&&s.closed&&l()}),500);return{send:d,close:l};function l(){try{window.removeEventListener("message",u),clearInterval(f),c(),n()}catch(e){console.error("Tab Close Error",e)}}function d(e){try{s.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Tab Send Error",e,t)}}}(e,{onReady:function(n,o){var i=o.send;try{try{i({fclVersion:za,type:"FCL:VIEW:READY:RESPONSE",body:t,service:{params:e.params,data:e.data,type:e.type},config:r}),i({fclVersion:za,type:"FCL:FRAME:READY:RESPONSE",body:t,service:{params:e.params,data:e.data,type:e.type},config:r,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),s&&i({jsonrpc:"2.0",id:u,method:"fcl:sign",params:[t,e.params]})}catch(a){throw a}return Promise.resolve()}catch(c){return Promise.reject(c)}},onResponse:function(e,t){var n=t.close;try{if("object"!==typeof e.data)return;var r=ms(e.data);switch(r.status){case"APPROVED":o(r.data),!a&&n();break;case"DECLINED":i("Declined: "+(r.reason||"No reason supplied")),n();break;case"REDIRECT":o(r),n();break;default:i("Declined: No reason supplied"),n()}}catch(u){throw console.error("execPopRPC onResponse error",u),u}},onMessage:function(e,t){var n=t.close;try{if("object"!==typeof e.data)return;if("2.0"!==e.data.jsonrpc)return;if(e.data.id!==u)return;var r=ms(e.data.result);switch(r.status){case"APPROVED":o(r.data),!a&&n();break;case"DECLINED":i("Declined: "+(r.reason||"No reason supplied")),n();break;case"REDIRECT":o(r),n();break;default:i("Declined: No reason supplied"),n()}}catch(s){throw console.error("execPopRPC onMessage error",s),s}},onClose:function(){i("Declined: Externally Halted")}})}))},"EXT/RPC":function(e,t,n,r){return new Promise((function(n,o){!function(e,t){if(void 0===t&&(t={}),null==e)return{send:Ms,close:Ms};var n=t.onClose||Ms,r=t.onMessage||Ms,o=t.onReady||Ms,i=t.onResponse||Ms,u=Ls({close:a,send:s,onReady:o,onResponse:i,onMessage:r});return window.addEventListener("message",u),s({service:e}),{send:s,close:a};function a(){try{window.removeEventListener("message",u),n()}catch(e){console.error("Ext Close Error",e)}}function s(e){try{window&&window.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Ext Send Error",e,t)}}}(e,{onReady:function(n,o){var i=o.send;try{try{i({fclVersion:za,type:"FCL:VIEW:READY:RESPONSE",body:t,service:{params:e.params,data:e.data,type:e.type},config:r})}catch(u){throw u}return Promise.resolve()}catch(a){return Promise.reject(a)}},onResponse:function(e,t){var r=t.close;try{if("object"!==typeof e.data)return;var i=ms(e.data);switch(i.status){case"APPROVED":n(i.data),r();break;case"DECLINED":o("Declined: "+(i.reason||"No reason supplied")),r();break;case"REDIRECT":n(i),r();break;default:o("Declined: No reason supplied"),r()}}catch(u){throw console.error("execExtRPC onResponse error",u),u}},onClose:function(){o("Declined: Externally Halted")}})}))}};function qs(e){return null==e?null:"1.0.0"===e.f_vsn?e:es({},as,{addr:qe(e.addr||e.address),signature:e.signature||e.sig,keyId:e.keyId})}function Hs(e,t,n){if(!e.s){if(n instanceof Vs){if(!n.s)return void(n.o=Hs.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(Hs.bind(null,e,t),Hs.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var Ks=function(e){try{return sc(),Promise.resolve(Qs({redir:!0})).then((function(t){var n=ps(t.services,"user-signature");return $(n,"Current user must have authorized a signing service."),Xs((function(){return Promise.resolve(zs({service:n,msg:hc(e)})).then((function(e){return Array.isArray(e)?e.map((function(e){return qs(e)})):[qs(e)]}))}),(function(e){return e}))}))}catch(t){return Promise.reject(t)}},Vs=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,o=this.s;if(o){var i=1&o?t:n;if(i){try{Hs(r,1,i(this.v))}catch(u){Hs(r,2,u)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?Hs(r,1,t?t(o):o):n?Hs(r,1,n(o)):Hs(r,2,o)}catch(u){Hs(r,2,u)}},r},e}();function Js(e){return e instanceof Vs&&1&e.s}var $s=function(){return Promise.resolve(Qs()).then((function(e){return Wi(He(e.addr),_a)}))};function Xs(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}var Zs=function(e){try{return sc(),Promise.resolve(es({},e,{tempId:"CURRENT_USER",resolve:function(e,t){try{return Promise.resolve(Qs({redir:!0})).then((function(n){var r;function o(t){if(r)return t;if(i)return es({},e,{tempId:"CURRENT_USER",resolve:null,addr:qe(i.identity.address),keyId:i.identity.keyId,sequenceNum:null,signature:null,signingFunction:function(e){try{return Promise.resolve(zs({service:i,msg:e,opts:{includeOlderJsonRpcCall:!0}})).then(qs)}catch(t){return Promise.reject(t)}}});throw new Error("No Authz or PreAuthz Service configured for CURRENT_USER")}var i=ps(n.services,"authz"),u=ps(n.services,"pre-authz"),a=function(){if(u)return Promise.resolve(zs({service:u,msg:t})).then((function(e){var t=function(e){var t=function(e){return{f_type:"PreAuthzResponse",f_vsn:"1.0.0",proposer:(e||{}).proposer,payer:(e||{}).payer||[],authorization:(e||{}).authorization||[]}}(e),n=[];null!=t.proposer&&n.push(["PROPOSER",t.proposer]);for(var r,o=ns(t.payer||[]);!(r=o()).done;){var i=r.value;n.push(["PAYER",i])}for(var u,a=ns(t.authorization||[]);!(u=a()).done;){var s=u.value;n.push(["AUTHORIZER",s])}var c=n.map((function(e){var t=e[0],n=e[1];return{tempId:[n.identity.address,n.identity.keyId].join("|"),addr:n.identity.address,keyId:n.identity.keyId,signingFunction:function(e){return zs({service:n,msg:e})},role:{proposer:"PROPOSER"===t,payer:"PAYER"===t,authorizer:"AUTHORIZER"===t}}}));return c}(e);return r=1,t}))}();return a&&a.then?a.then(o):o(a)}))}catch(n){return Promise.reject(n)}}}))}catch(t){return Promise.reject(t)}};var Qs=function(e){var t=void 0===e?{}:e,n=t.service,r=t.redir,o=void 0!==r&&r;try{return Promise.resolve(new Promise((function(e,t){try{sc();var r={redir:o};return Promise.resolve(lc()).then((function(o){return Promise.resolve(function(){try{return Promise.resolve(H.first(["discovery.wallet","challenge.handshake"])).then((function(e){return Promise.resolve(H.get("discovery.authn.include",[])).then((function(t){return Promise.resolve(H.first(["discovery.wallet.method","discovery.wallet.method.default"])).then((function(n){return{type:"authn",endpoint:e,method:n,discoveryAuthnInclude:t}}))}))}))}catch(e){return Promise.reject(e)}}()).then((function(i){var u;function a(t){var a;if(u)return t;function f(t){if(a)return t;var o=function(e,t){try{var n=e()}catch(r){return t(!0,r)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,n)}((function(){return Xs((function(){return Promise.resolve(zs({service:es({},n||i,{method:(null==i?void 0:i.method)||n.method||"IFRAME/RPC"}),msg:s,opts:r,config:{discoveryAuthnInclude:i.discoveryAuthnInclude}})).then((function(e){return Promise.resolve(hs(e)).then((function(e){E(tc,oc,e)}))}))}),(function(e){console.error("Error while authenticating",e)}))}),(function(t,n){return Promise.resolve(lc()).then((function(r){if(e(r),t)throw n;return n}))}));return o&&o.then?o.then((function(){})):void 0}$(n||i.endpoint,'\n        If no service passed to "authenticate," then "discovery.wallet" must be defined in config.\n        See: "https://docs.onflow.org/fcl/reference/api/#setting-configuration-values"\n      ');var l=function(){if(o.loggedIn){if(c)return function(e,t){try{var n=e()}catch(r){return t()}return n&&n.then?n.then(t,t):t()}((function(){return Xs((function(){return Promise.resolve(zs({service:c,msg:s,opts:r})).then((function(e){return Promise.resolve(hs(e)).then((function(e){E(tc,oc,e)}))}))}),(function(e){console.error("Error: Could not refresh authentication.",e)}))}),(function(){return Promise.resolve(lc()).then((function(t){var n=e(t);return a=1,n}))}));var t=e(o);return a=1,t}}();return l&&l.then?l.then(f):f(l)}var s,c=ps(o.services,"authn-refresh"),f=Xs((function(){return Promise.resolve(ec()).then((function(e){s=e}))}),(function(e){console.error("Error During Authentication: Could not resolve account proof data.\n        "+e);var n=t(e);return u=1,n}));return f&&f.then?f.then(a):a(f)}))}))}catch(i){return Promise.reject(i)}})))}catch(i){return Promise.reject(i)}},ec=function(){try{return Promise.resolve(H.get("fcl.accountProof.resolver")).then((function(e){function t(e){if(null!=e)return $("string"===typeof e.appIdentifier,"appIdentifier must be a string"),$(/^[0-9a-f]+$/i.test(e.nonce),"Nonce must be a hex string"),e}return e?Promise.resolve(e()).then(t):t(e)}))}catch(e){return Promise.reject(e)}},tc="CURRENT_USER",nc="CURRENT_USER/UPDATED",rc="SNAPSHOT",oc="SET_CURRENT_USER",ic="DEL_CURRENT_USER",uc='{\n  "f_type": "User",\n  "f_vsn": "1.0.0",\n  "addr":null,\n  "cid":null,\n  "loggedIn":null,\n  "expiresAt":null,\n  "services":[]\n}',ac=((Ys={}).INIT=function(e){try{return"undefined"===typeof window&&console.warn('\n        %cFCL Warning\n        ============================\n        "currentUser" is only available in the browser.\n        For more info, please see the docs: https://docs.onflow.org/fcl/\n        ============================\n        ',"font-weight:bold;font-family:monospace;"),e.merge(JSON.parse(uc)),Promise.resolve(H.first(["fcl.storage","fcl.storage.default"])).then((function(t){var n=function(){if(t.can)return Promise.resolve(function(e){try{var t=JSON.parse(uc);return Promise.resolve(e.get(tc)).then((function(n){return null!=n&&t.f_vsn!==n.f_vsn?(e.removeItem(tc),t):n||t}))}catch(n){return Promise.reject(n)}}(t)).then((function(t){(function(e){return null==e.expiresAt||0===e.expiresAt||e.expiresAt>Date.now()})(t)&&e.merge(t)}))}();if(n&&n.then)return n.then((function(){}))}))}catch(t){return Promise.reject(t)}},Ys.SUBSCRIBE=function(e,t){e.subscribe(t.from),e.send(t.from,nc,es({},e.all()))},Ys.UNSUBSCRIBE=function(e,t){e.unsubscribe(t.from)},Ys.SNAPSHOT=function(e,t){try{return t.reply(es({},e.all())),Promise.resolve()}catch(n){return Promise.reject(n)}},Ys[oc]=function(e,t,n){try{return e.merge(n),Promise.resolve(H.first(["fcl.storage","fcl.storage.default"])).then((function(t){t.can&&t.put(tc,e.all()),e.broadcast(nc,es({},e.all()))}))}catch(r){return Promise.reject(r)}},Ys.DEL_CURRENT_USER=function(e,t){try{return e.merge(JSON.parse(uc)),Promise.resolve(H.first(["fcl.storage","fcl.storage.default"])).then((function(t){t.can&&t.put(tc,e.all()),e.broadcast(nc,es({},e.all()))}))}catch(n){return Promise.reject(n)}},Ys),sc=function(){return w(ac,tc)};function cc(){sc(),E(tc,ic)}function fc(e){sc();var t="@EXIT",n=w((function(n){try{var r;return n.send(tc,p),Promise.resolve(function(e,t,n){for(var r;;){var o=e();if(Js(o)&&(o=o.v),!o)return i;if(o.then){r=0;break}var i=n();if(i&&i.then){if(!Js(i)){r=1;break}i=i.s}if(t){var u=t();if(u&&u.then&&!Js(u)){r=2;break}}}var a=new Vs,s=Hs.bind(null,a,2);return(0===r?o.then(f):1===r?i.then(c):u.then(l)).then(void 0,s),a;function c(r){i=r;do{if(t&&(u=t())&&u.then&&!Js(u))return void u.then(l).then(void 0,s);if(!(o=e())||Js(o)&&!o.v)return void Hs(a,1,i);if(o.then)return void o.then(f).then(void 0,s);Js(i=n())&&(i=i.v)}while(!i||!i.then);i.then(c).then(void 0,s)}function f(e){e?(i=n())&&i.then?i.then(c).then(void 0,s):c(i):Hs(a,1,i)}function l(){(o=e())?o.then?o.then(f).then(void 0,s):f(o):Hs(a,1,i)}}((function(){return!r&&1}),void 0,(function(){return Promise.resolve(n.receive()).then((function(o){if(o.tag===t)return n.send(tc,v),void(r=1);e(o.data)}))})))}catch(o){return Promise.reject(o)}}));return function(){return E(n,t)}}function lc(){return sc(),E(tc,rc,null,{expectReply:!0,timeout:0})}var dc,hc=function(e){return $(/^[0-9a-f]+$/i.test(e),"Message must be a hex string"),{message:e}},pc=function(){return{authenticate:Qs,unauthenticate:cc,authorization:Zs,signUserMessage:Ks,subscribe:fc,snapshot:lc,resolveArgument:$s}};pc.authenticate=Qs,pc.unauthenticate=cc,pc.authorization=Zs,pc.signUserMessage=Ks,pc.subscribe=fc,pc.snapshot=lc,pc.resolveArgument=$s;var vc="POLL",yc=function(e){return e.status>=4},mc=function(e){return e.status>=3},gc=function(e){return e.status>=2},bc=((dc={}).INIT=function(e){try{return e.sendSelf(vc),Promise.resolve()}catch(t){return Promise.reject(t)}},dc.SUBSCRIBE=function(e,t){e.subscribe(t.from),e.send(t.from,y,e.all())},dc.UNSUBSCRIBE=function(e,t){e.unsubscribe(t.from)},dc.SNAPSHOT=function(e,t){try{return t.reply(e.all()),Promise.resolve()}catch(n){return Promise.reject(n)}},dc.POLL=function(e){try{var t,n,r=function(r){if(t)return r;var o,i;yc(n)||setTimeout((function(){return e.sendSelf(vc)}),2500),o=e.all(),i=n,JSON.stringify(o)!==JSON.stringify(i)&&e.broadcast(y,n),e.merge(n)},o=function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){return Promise.resolve(function(e){try{return Promise.resolve(Ri([Di(e)]).then(Ai))}catch(t){return Promise.reject(t)}}(e.self())).then((function(e){n=e}))}),(function(n){var r=e.fatalError(n);return t=1,r}));return Promise.resolve(o&&o.then?o.then(r):r(o))}catch(i){return Promise.reject(i)}},dc),Ec=function(e){if("object"===typeof e&&(e=e.transactionId),null==e)throw new Error("transactionId required");return e},wc=function(e){return w(bc,Ec(e))};function Ic(e){function t(t){return I(Ec(e),wc,t)}function n(e){return function(n){void 0===n&&(n={});var r=n.suppress||!1;return new Promise((function(n,o){var i=t((function(t,u){!u&&!t.statusCode||r?e(t)&&(n(t),i()):(o(u||t.errorMessage),i())}))}))}}return{snapshot:function(){return S(e,wc)},subscribe:t,onceFinalized:n(gc),onceExecuted:n(mc),onceSealed:n(yc)}}Ic.isUnknown=function(e){return e.status>=0},Ic.isPending=function(e){return e.status>=1},Ic.isFinalized=gc,Ic.isExecuted=mc,Ic.isSealed=yc,Ic.isExpired=function(e){return 5===e.status};var Sc=function(e){void 0===e&&(e={});try{return Promise.resolve(function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){return Promise.resolve(function(e){try{return $(Ka(e),"mutate(opts) -- opts is required"),$(Va(e),"mutate(opts) -- opts must be an object"),$(Ka(e.cadence),"mutate({ cadence }) -- cadence is required"),$(Ja(e.cadence),"mutate({ cadence }) -- cadence must be a string"),Promise.resolve(H.get("accessNode.api")).then((function(e){$(e,'Required value for "accessNode.api" not defined in config. See: https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration')}))}catch(t){return Promise.reject(t)}}(e)).then((function(){return Promise.resolve(H().get("fcl.authz",pc().authorization)).then((function(t){return Ri([Xi(e.cadence),zi(Za(e.args||[])),e.limit&&Xa(e.limit)&&Yi(e.limit),qi(e.proposer||e.authz||t),Hi(e.payer||e.authz||t),Ui(e.authorizations||[e.authz||t])]).then(Ai)}))}))}),(function(e){throw e})))}catch(t){return Promise.reject(t)}},Pc=function(e,t){void 0===t&&(t=function(){});var n=function(n){var r=n.data;"object"===typeof r&&null!=typeof r&&r.type===e&&t(function(e){var t;return e.deprecated&&console.warn("DEPRECATION NOTICE",e.deprecated.message),null==e||null==(t=e.body)||delete t.interaction,e}(r))};return window.addEventListener("message",n),function(){return window.removeEventListener("message",n)}},Rc=function(e,t){void 0===t&&(t={}),window.location!==window.parent.location?window.parent.postMessage(es({},t,{type:e}),"*"):window.opener.postMessage(es({},t,{type:e}),"*")};var Ac=function(e){return function(e,t){return Ge.Buffer.from(e.padStart(2*t,"0"),"hex")}(e,8)},kc=function(e){return Ge.Buffer.from(e,"hex")},Tc=function(e,t){var n=e.address,r=e.nonce,o=e.appIdentifier;void 0===t&&(t=!0),$(n,"Encode Message For Provable Authn Error: address must be defined"),$(r,"Encode Message For Provable Authn Error: nonce must be defined"),$(o,"Encode Message For Provable Authn Error: appIdentifier must be defined"),$(r.length>=64,"Encode Message For Provable Authn Error: nonce must be minimum of 32 bytes");var i=function(e,t){return Ge.Buffer.from(e.padEnd(2*t,"0"),"hex")}(Ge.Buffer.from("FCL-ACCOUNT-PROOF-V0.0").toString("hex"),32);return t?Ge.Buffer.concat([i,De([o,Ac(qe(n)),kc(r)])]).toString("hex"):De([o,Ac(qe(n)),kc(r)]).toString("hex")};var Cc,_c={__proto__:null,sendMsgToFCL:Rc,ready:function(e,t){Pc("FCL:VIEW:READY:RESPONSE",e),Rc("FCL:VIEW:READY")},close:function(){Rc("FCL:VIEW:CLOSE")},approve:function(e){Rc("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"APPROVED",reason:null,data:e})},decline:function(e){Rc("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"DECLINED",reason:e,data:null})},redirect:function(e){Rc("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"REDIRECT",reason:null,data:e})},onMessageFromFCL:Pc,encodeMessageFromSignable:function(e,t){var n,r=function(e){var t=new Set(e.authorizers);return t.add(e.proposalKey.address),t.delete(e.payer),Array.from(t).map(He)}(e.voucher),o=function(e){var t=new Set([e.payer]);return Array.from(t).map(He)}(e.voucher),i=r.includes(He(t)),u=o.includes(He(t));if(!i&&!u)throw new ki(t);var a=((n={cadence:e.voucher.cadence,refBlock:e.voucher.refBlock,computeLimit:e.voucher.computeLimit}).arguments=e.voucher.arguments,n.proposalKey=xn({},e.voucher.proposalKey,{address:qe(e.voucher.proposalKey.address)}),n.payer=qe(e.voucher.payer),n.authorizers=e.voucher.authorizers.map(qe),n.payloadSigs=e.voucher.payloadSigs.map((function(e){return xn({},e,{address:qe(e.address)})})),n);return i?ko(a):To(a)},CompositeSignature:function(e,t,n){this.f_type=as.f_type,this.f_vsn=as.f_vsn,this.addr=He(e),this.keyId=Number(t),this.signature=n},encodeAccountProof:Tc,injectExtService:function(e){"authn"===e.type&&null!=e.endpoint?(Array.isArray(window.fcl_extensions)||(window.fcl_extensions=[]),window.fcl_extensions.push(e)):console.warn("Authn service is required")}},Oc=function(e,t,n){void 0===n&&(n={});try{xc({message:e,compSigs:t});for(var r,o=t[0].addr,i=[],u=[],a=ns(t);!(r=a()).done;){var s=r.value;i.push(s.signature),u.push(s.keyId)}return Promise.resolve(jc(Uc,n)).then((function(t){return Qa({cadence:t,args:function(t,n){return[t(o,n.Address),t(e,n.String),t(u,n.Array([n.Int])),t(i,n.Array([n.String]))]}})}))}catch(c){return Promise.reject(c)}},Bc="ACCOUNT_PROOF",Uc="USER_SIGNATURE",xc=function(e){if(e.appIdentifier){var t=e.appIdentifier,n=e.address,r=e.nonce,o=e.signatures;return $(Ja(t),"verifyAccountProof({ appIdentifier }) -- appIdentifier must be a string"),$(Ja(n)&&16===qe(n).length,"verifyAccountProof({ address }) -- address must be a valid address"),$(/^[0-9a-f]+$/i.test(r),"nonce must be a hex string"),$(Array.isArray(o)&&o.every((function(e,t,n){return"CompositeSignature"===e.f_type})),"Must include an Array of CompositeSignatures to verify"),$(o.map((function(e){return e.addr})).every((function(e,t,n){return e===n[0]})),"User signatures to be verified must be from a single account address"),!0}var i=e.message,u=e.compSigs;return $(/^[0-9a-f]+$/i.test(i),"Signed message must be a hex string"),$(Array.isArray(u)&&u.every((function(e,t,n){return"CompositeSignature"===e.f_type})),"Must include an Array of CompositeSignatures to verify"),$(u.map((function(e){return e.addr})).every((function(e,t,n){return e===n[0]})),"User signatures to be verified must be from a single account address"),!0},jc=function(e,t){try{var n="ACCOUNT_PROOF"===e?"verifyAccountProofSignatures":"verifyUserSignatures";return Promise.resolve(H.get("flow.network")).then((function(e){function r(){return $(t.fclCryptoContract||"testnet"===e||"mainnet"===e,"${verifyFunction}({ fclCryptoContract }) -- config.flow.network must be specified (testnet || mainnet) or contract address provided via opts.fclCryptoContract"),"\n      import FCLCrypto from "+(t.fclCryptoContract?t.fclCryptoContract:"testnet"===e?"0x74daa6f9c7ef24b1":"0xb4b82a1c9d21d284")+"\n\n      pub fun main(\n          address: Address, \n          message: String, \n          keyIndices: [Int], \n          signatures: [String]\n      ): Bool {\n        return FCLCrypto."+n+"(address: address, message: message, keyIndices: keyIndices, signatures: signatures)\n      }\n    "}var o=function(){if(!e)return Promise.resolve(H.get("env")).then((function(t){(e=t)&&Fe.deprecate({pkg:"FCL",subject:'Using the "env" configuration key for specifying the flow network',message:'Please use "flow.network" instead.',transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0001-deprecate-env-config-key"})}))}();return o&&o.then?o.then(r):r()}))}catch(r){return Promise.reject(r)}},Nc={__proto__:null,verifyAccountProof:function(e,t,n){var r=t.address,o=t.nonce,i=t.signatures;void 0===n&&(n={});try{xc({appIdentifier:e,address:r,nonce:o,signatures:i});for(var u,a=Tc({address:r,nonce:o,appIdentifier:e},!1),s=[],c=[],f=ns(i);!(u=f()).done;){var l=u.value;s.push(l.signature),c.push(l.keyId)}return Promise.resolve(jc(Bc,n)).then((function(e){return Qa({cadence:e,args:function(e,t){return[e(r,t.Address),e(a,t.String),e(c,t.Array([t.Int])),e(s,t.Array([t.String]))]}})}))}catch(d){return Promise.reject(d)}},verifyUserSignatures:Oc},Lc=Fe.deprecate({pkg:"FCL",subject:"fcl.verifyUserSignatures()",message:"Please use fcl.AppUtils.verifyUserSignatures()",callback:function(e,t){return Oc(e,t)}}),Fc=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});try{return Promise.resolve(H.first(["sdk.resolve"],t.resolve||Si)).then((function(t){function n(){return Promise.resolve(t(e)).then((function(e){return JSON.stringify(ci(e),null,2)}))}var r=function(){if(Array.isArray(e))return Promise.resolve(Zr(cr(),e)).then((function(t){e=t}))}();return r&&r.then?r.then(n):n()}))}catch(n){return Promise.reject(n)}},Gc="TICK",Dc="hwm",Mc=function(e){try{var t=setTimeout;return Promise.resolve(H().get("fcl.eventPollRate",1e4)).then((function(n){return t((function(){return e.sendSelf(Gc)}),n)}))}catch(n){return Promise.reject(n)}},Yc=((Cc={}).TICK=function(e){try{if(!e.hasSubs())return Promise.resolve();var t=e.get(Dc),n=function(){if(null==t){var n=e.put;return Promise.resolve(Bi()).then((function(t){n.call(e,Dc,t);var r=e.put;return Promise.resolve(Mc(e)).then((function(t){r.call(e,Gc,t)}))}))}return Promise.resolve(Bi()).then((function(n){function r(){var t=e.put;return Promise.resolve(Mc(e)).then((function(n){t.call(e,Gc,n)}))}e.put(Dc,n);var o=function(){if(t.height<n.height)return Promise.resolve(Ri([Ni(e.self(),t.height+1,n.height)]).then(Ai)).then((function(t){for(var n,r=ns(t);!(n=r()).done;){var o=n.value;e.broadcast("UPDATED",o.data)}}))}();return o&&o.then?o.then(r):r()}))}();return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(r){return Promise.reject(r)}},Cc.SUBSCRIBE=function(e,t){try{var n=function(){e.subscribe(t.from)},r=function(){if(!e.hasSubs()){var t=e.put;return Promise.resolve(Mc(e)).then((function(n){t.call(e,Gc,n)}))}}();return Promise.resolve(r&&r.then?r.then(n):n())}catch(o){return Promise.reject(o)}},Cc.UNSUBSCRIBE=function(e,t){e.unsubscribe(t.from),e.hasSubs()||(clearTimeout(e.get(Gc)),e.delete(Gc),e.delete(Dc))},Cc),zc=function(e){return w(Yc,e)};function Wc(e){return{subscribe:function(t){return I(e,zc,t)}}}var qc=function(e){void 0===e&&(e=[]);try{return Promise.resolve(H.get("discovery.authn.endpoint")).then((function(t){return $(Boolean(t),'"discovery.authn.endpoint" in config must be defined.'),Promise.resolve(H.get("discovery.authn.include",[])).then((function(n){var r=new URL(t);return fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fclVersion:za,include:n})}).then((function(e){return e.json()})).then((function(t){return[].concat(e,t)}))}))}))}catch(t){return Promise.reject(t)}};function Hc(e){void 0===e&&(e=[]);var t=window.fcl_extensions||[];return[].concat(t,e)}var Kc,Vc=function(e){var t=e.type;return function(){var e=arguments;return function(t){return[].slice.call(e).reduce((function(e,t){return e.then(t)}),Promise.resolve(t))}}(qc,Hc,(function(e){return function(e,t){return void 0===e&&(e=[]),e.filter((function(e){return e.type===t}))}(e,t)}))([])},Jc="authn",$c=((Kc={}).INIT=function(e){try{return t="undefined"===typeof window,n='"fcl.discovery" is only available in the browser.',t&&console.warn("\n      %cFCL Warning\n      ============================\n      "+n+"\n      For more info, please see the docs: https://docs.onflow.org/fcl/\n      ============================\n      ","font-weight:bold;font-family:monospace;"),Promise.resolve(Vc({type:Jc})).then((function(t){e.put("results",t)}))}catch(r){return Promise.reject(r)}var t,n},Kc.SUBSCRIBE=function(e,t){e.subscribe(t.from),e.send(t.from,"UPDATED",es({},e.all()))},Kc.UNSUBSCRIBE=function(e,t){return e.unsubscribe(t.from)},Kc.SNAPSHOT=function(e,t){try{return Promise.resolve(t.reply(es({},e.all())))}catch(n){return Promise.reject(n)}},Kc),Xc=function(){return w($c,Jc)},Zc={authn:{subscribe:function(e){return I(Jc,Xc,e)},snapshot:function(){return S(Jc,Xc)}}},Qc=function(e){return void 0===e&&(e={}),pc().authenticate(e)},ef=function(){return pc().unauthenticate()},tf=function(e){return void 0===e&&(e={}),pc().unauthenticate(),pc().authenticate(e)},nf=function(e){return void 0===e&&(e={}),pc().authenticate(e)},rf=function(e){return void 0===e&&(e={}),pc().authenticate(e)},of=pc().authorization,uf=r},6060:function(e,t,n){"use strict";n.r(t),n.d(t,{Address:function(){return N},Array:function(){return D},Bool:function(){return j},Character:function(){return x},Dictionary:function(){return M},Event:function(){return Y},Fix64:function(){return B},Identity:function(){return l},Int:function(){return h},Int128:function(){return S},Int16:function(){return m},Int256:function(){return R},Int32:function(){return b},Int64:function(){return w},Int8:function(){return v},Optional:function(){return F},Reference:function(){return G},Resource:function(){return z},String:function(){return U},Struct:function(){return W},UFix64:function(){return O},UInt:function(){return d},UInt128:function(){return I},UInt16:function(){return y},UInt256:function(){return P},UInt32:function(){return g},UInt64:function(){return E},UInt8:function(){return p},Void:function(){return L},Word16:function(){return k},Word32:function(){return T},Word64:function(){return C},Word8:function(){return A},_Array:function(){return D}});var r=function(e,t,n){return{label:e,asArgument:t,asInjection:n}},o=function(e){return Array.isArray(e)},i=function(e){return"object"==typeof e},u=function(e){return null==e},a=function(e){return"number"==typeof e},s=function(e){return Number.isInteger(e)},c=function(e){return"string"==typeof e},f=function(e){throw new Error("Type Error: "+e)},l=r("Identity",(function(e){return e}),(function(e){return e})),d=r("UInt",(function(e){if(a(e)&&s(e))return{type:"UInt",value:e.toString()};f("Expected Positive Integer for type Unsigned Int")}),(function(e){return e})),h=r("Int",(function(e){if(a(e)&&s(e))return{type:"Int",value:e.toString()};f("Expected Integer for type Int")}),(function(e){return e})),p=r("UInt8",(function(e){if(a(e)&&s(e))return{type:"UInt8",value:e.toString()};f("Expected integer for UInt8")}),(function(e){return e})),v=r("Int8",(function(e){if(a(e)&&s(e))return{type:"Int8",value:e.toString()};f("Expected positive integer for Int8")}),(function(e){return e})),y=r("UInt16",(function(e){if(a(e)&&s(e))return{type:"UInt16",value:e.toString()};f("Expected integer for UInt16")}),(function(e){return e})),m=r("Int16",(function(e){if(a(e)&&s(e))return{type:"Int16",value:e.toString()};f("Expected positive integer for Int16")}),(function(e){return e})),g=r("UInt32",(function(e){if(a(e)&&s(e))return{type:"UInt32",value:e.toString()};f("Expected integer for UInt32")}),(function(e){return e})),b=r("Int32",(function(e){if(a(e)&&s(e))return{type:"Int32",value:e.toString()};f("Expected positive integer for Int32")}),(function(e){return e})),E=r("UInt64",(function(e){if(a(e)&&s(e))return{type:"UInt64",value:e.toString()};f("Expected integer for UInt64")}),(function(e){return e})),w=r("Int64",(function(e){if(a(e)&&s(e))return{type:"Int64",value:e.toString()};f("Expected positive integer for Int64")}),(function(e){return e})),I=r("UInt128",(function(e){if(a(e)&&s(e))return{type:"UInt128",value:e.toString()};f("Expected integer for UInt128")}),(function(e){return e})),S=r("Int128",(function(e){if(a(e)&&s(e))return{type:"Int128",value:e.toString()};f("Expected positive integer for Int128")}),(function(e){return e})),P=r("UInt256",(function(e){if(a(e)&&s(e))return{type:"UInt256",value:e.toString()};f("Expected integer for UInt256")}),(function(e){return e})),R=r("Int256",(function(e){if(a(e)&&s(e))return{type:"Int256",value:e.toString()};f("Expected integer for Int256")}),(function(e){return e})),A=r("Word8",(function(e){if(a(e)&&s(e))return{type:"Word8",value:e.toString()};f("Expected positive number for Word8")}),(function(e){return e})),k=r("Word16",(function(e){if(a(e)&&s(e))return{type:"Word16",value:e.toString()};f("Expected positive number for Word16")}),(function(e){return e})),T=r("Word32",(function(e){if(a(e)&&s(e))return{type:"Word32",value:e.toString()};f("Expected positive number for Word32")}),(function(e){return e})),C=r("Word64",(function(e){if(a(e)&&s(e))return{type:"Word64",value:e.toString()};f("Expected positive number for Word64")}),(function(e){return e})),_=function(){console.error("\n          %c@onflow/types Deprecation Notice\n          ========================\n\n          Passing in Numbers as values for Fix64 and UFix64 types is deprecated and will cease to work in future releases of @onflow/types.\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0001-[U]Fix64-as-Number\n\n          =======================\n        ".replace(/\n\s+/g,"\n").trim(),"font-weight:bold;font-family:monospace;")},O=r("UFix64",(function(e){return c(e)?{type:"UFix64",value:e}:a(e)?(_(),{type:"UFix64",value:e.toString()}):void f("Expected String for UFix64")}),(function(e){return e})),B=r("Fix64",(function(e){return c(e)?{type:"Fix64",value:e}:a(e)?(_(),{type:"Fix64",value:e.toString()}):void f("Expected String for Fix64")}),(function(e){return e})),U=r("String",(function(e){if(c(e))return{type:"String",value:e};f("Expected String for type String")}),(function(e){return e})),x=r("Character",(function(e){if(c(e))return{type:"Character",value:e};f("Expected Character for type Character")}),(function(e){return e})),j=r("Bool",(function(e){if("boolean"==typeof e)return{type:"Bool",value:e};f("Expected Boolean for type Bool")}),(function(e){return e})),N=r("Address",(function(e){if(c(e))return{type:"Address",value:e};f("Expected Address for type Address")}),(function(e){return e})),L=r("Void",(function(e){if(!e||u(e))return{type:"Void"};f("Expected Void for type Void")}),(function(e){return e})),F=function(e){return r("Optional",(function(t){return{type:"Optional",value:u(t)?null:e.asArgument(t)}}),(function(e){return e}))},G=r("Reference",(function(e){if(i(e))return{type:"Reference",value:e};f("Expected Object for type Reference")}),(function(e){return e})),D=function(e){return void 0===e&&(e=[]),r("Array",(function(t){return{type:"Array",value:o(e)?e.map((function(e,n){return e.asArgument(t[n])})):t.map((function(t){return e.asArgument(t)}))}}),(function(e){return e}))},M=function(e){return void 0===e&&(e=[]),r("Dictionary",(function(t){if(i(t))return{type:"Dictionary",value:o(e)?e.map((function(e,n){return{key:e.key.asArgument(t[n].key),value:e.value.asArgument(t[n].value)}})):o(t)?t.map((function(t){return{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}})):[{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}]};f("Expected Object for type Dictionary")}),(function(e){return e}))},Y=function(e,t){return void 0===t&&(t=[]),r("Event",(function(n){if(i(n))return{type:"Event",value:{id:e,fields:o(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};f("Expected Object for type Event")}),(function(e){return e}))},z=function(e,t){return void 0===t&&(t=[]),r("Resource",(function(n){if(i(n))return{type:"Resource",value:{id:e,fields:o(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};f("Expected Object for type Resource")}),(function(e){return e}))},W=function(e,t){return void 0===t&&(t=[]),r("Struct",(function(n){if(i(n))return{type:"Struct",value:{id:e,fields:o(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};f("Expected Object for type Struct")}),(function(e){return e}))}},9742:function(e,t){"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),u=i[0],a=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,u,a)),f=0,l=a>0?u-4:u;for(n=0;n<l;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[f++]=t>>16&255,c[f++]=t>>8&255,c[f++]=255&t;2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[f++]=255&t);1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[f++]=t>>8&255,c[f++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],u=16383,a=0,s=r-o;a<s;a+=u)i.push(c(e,a,a+u>s?s:a+u));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,a=i.length;u<a;++u)n[u]=i[u],r[i.charCodeAt(u)]=u;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,u=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),u.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return u.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8764:function(e,t,n){"use strict";const r=n(9742),o=n(645),i="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},t.INSPECT_MAX_BYTES=50;const u=2147483647;function a(e){if(e>u)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|v(e,t);let r=a(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(J(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);const o=function(e){if(s.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||$(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(o)return o;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return f(e),a(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,s.prototype),r}function p(e){if(e>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return 0|e}function v(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(o)return r?-1:H(e).length;t=(""+t).toLowerCase(),o=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return _(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return R(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,o){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),$(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){let i,u=1,a=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;u=2,a/=2,s/=2,n/=2}function c(e,t){return 1===u?e[t]:e.readUInt16BE(t*u)}if(o){let r=-1;for(i=n;i<a;i++)if(c(e,i)===c(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===s)return r*u}else-1!==r&&(i-=i-r),r=-1}else for(n+s>a&&(n=a-s),i=n;i>=0;i--){let n=!0;for(let r=0;r<s;r++)if(c(e,i+r)!==c(t,r)){n=!1;break}if(n)return i}return-1}function E(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let u;for(r>i/2&&(r=i/2),u=0;u<r;++u){const r=parseInt(t.substr(2*u,2),16);if($(r))return u;e[n+u]=r}return u}function w(e,t,n,r){return V(H(t,e.length-n),e,n,r)}function I(e,t,n,r){return V(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return V(K(t),e,n,r)}function P(e,t,n,r){return V(function(e,t){let n,r,o;const i=[];for(let u=0;u<e.length&&!((t-=2)<0);++u)n=e.charCodeAt(u),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function R(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,u=t>239?4:t>223?3:t>191?2:1;if(o+u<=n){let n,r,a,s;switch(u){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128===(192&n)&&(s=(31&t)<<6|63&n,s>127&&(i=s));break;case 3:n=e[o+1],r=e[o+2],128===(192&n)&&128===(192&r)&&(s=(15&t)<<12|(63&n)<<6|63&r,s>2047&&(s<55296||s>57343)&&(i=s));break;case 4:n=e[o+1],r=e[o+2],a=e[o+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(s=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,s>65535&&s<1114112&&(i=s))}}null===i?(i=65533,u=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=u}return function(e){const t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}t.kMaxLength=u,s.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return function(e,t,n){return f(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},s.allocUnsafe=function(e){return l(e)},s.allocUnsafeSlow=function(e){return l(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(J(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=s.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(J(t,Uint8Array))o+t.length>r.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!s.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},s.byteLength=v,s.prototype._isBuffer=!0,s.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},s.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},s.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},s.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(s.prototype[i]=s.prototype.inspect),s.prototype.compare=function(e,t,n,r,o){if(J(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),u=(n>>>=0)-(t>>>=0);const a=Math.min(i,u),c=this.slice(r,o),f=e.slice(t,n);for(let s=0;s<a;++s)if(c[s]!==f[s]){i=c[s],u=f[s];break}return i<u?-1:u<i?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return I(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const k=4096;function T(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function C(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function _(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let i=t;i<n;++i)o+=X[e[i]];return o}function O(e,t,n){const r=e.slice(t,n);let o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function B(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,n,r,o,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function x(e,t,n,r,o){Y(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let u=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=u,u>>=8,e[n++]=u,u>>=8,e[n++]=u,u>>=8,e[n++]=u,n}function j(e,t,n,r,o){Y(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let u=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=u,u>>=8,e[n+2]=u,u>>=8,e[n+1]=u,u>>=8,e[n]=u,n+8}function N(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return t=+t,n>>>=0,i||N(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return t=+t,n>>>=0,i||N(e,0,n,8),o.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=Z((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),s.prototype.readBigUInt64BE=Z((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=Z((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),s.prototype.readBigInt64BE=Z((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),o.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),o.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),o.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),o.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){U(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){U(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=Z((function(e,t=0){return x(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeBigUInt64BE=Z((function(e,t=0){return j(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);U(this,e,t,n,r-1,-r)}let o=0,i=1,u=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===u&&0!==this[t+o-1]&&(u=1),this[t+o]=(e/i>>0)-u&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);U(this,e,t,n,r-1,-r)}let o=n-1,i=1,u=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===u&&0!==this[t+o+1]&&(u=1),this[t+o]=(e/i>>0)-u&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=Z((function(e,t=0){return x(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeBigInt64BE=Z((function(e,t=0){return j(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},s.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=s.isBuffer(e)?e:s.from(e,r),u=i.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%u]}return this};const G={};function D(e,t,n){G[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function M(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function Y(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new G.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||W(t,e.length-(n+1))}(r,o,i)}function z(e,t){if("number"!==typeof e)throw new G.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,n){if(Math.floor(e)!==e)throw z(e,n),new G.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new G.ERR_BUFFER_OUT_OF_BOUNDS;throw new G.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=M(String(n)):"bigint"===typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=M(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function H(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let u=0;u<r;++u){if(n=e.charCodeAt(u),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(u+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function K(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!==e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Z(e){return"undefined"===typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},645:function(e,t){t.read=function(e,t,n,r,o){var i,u,a=8*o-r-1,s=(1<<a)-1,c=s>>1,f=-7,l=n?o-1:0,d=n?-1:1,h=e[t+l];for(l+=d,i=h&(1<<-f)-1,h>>=-f,f+=a;f>0;i=256*i+e[t+l],l+=d,f-=8);for(u=i&(1<<-f)-1,i>>=-f,f+=r;f>0;u=256*u+e[t+l],l+=d,f-=8);if(0===i)i=1-c;else{if(i===s)return u?NaN:1/0*(h?-1:1);u+=Math.pow(2,r),i-=c}return(h?-1:1)*u*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var u,a,s,c=8*i-o-1,f=(1<<c)-1,l=f>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,u=f):(u=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-u))<1&&(u--,s*=2),(t+=u+l>=1?d/s:d*Math.pow(2,1-l))*s>=2&&(u++,s/=2),u+l>=f?(a=0,u=f):u+l>=1?(a=(t*s-1)*Math.pow(2,o),u+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,o),u=0));o>=8;e[n+h]=255&a,h+=p,a/=256,o-=8);for(u=u<<o|a,c+=o;c>0;e[n+h]=255&u,h+=p,u/=256,c-=8);e[n+h-p]|=128*v}},4375:function(e){let t;e.exports="function"===typeof queueMicrotask?queueMicrotask:e=>(t||(t=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},5682:function(e,t,n){"use strict";t.Aj=void 0;var r,o=n(8764),i=(r=n(9274))&&r.__esModule?r:{default:r};var u=function(e){var t=e.allowedSizes,n=e.defaultSize,r=e.padding;return function e(){var u=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;if(!this||this.constructor!==e)return new e(a);if(t&&!t.includes(a))throw new Error("Unsupported hash length");var s=new i.default({capacity:a});return this.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(o.Buffer.isBuffer(e))return s.absorb(e),u;if("string"===typeof e)return u.update(o.Buffer.from(e,t));throw new TypeError("Not a string or buffer")},this.digest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",t="string"===typeof e?{format:e}:e,n=s.squeeze({buffer:t.buffer,padding:t.padding||r});return t.format&&"binary"!==t.format?n.toString(t.format):n},this.reset=function(){return s.reset(),u},this}},a=u({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});var s=u({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});t.Aj=s,u({allowedSizes:[128,256],defaultSize:256,padding:31});var c=a;s.SHA3Hash=c},9274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(8764),i=(r=n(9618))&&r.__esModule?r:{default:r};var u=function(e,t){for(var n=0;n<e.length;n+=8){var r=n/4;t[r]^=e[n+7]<<24|e[n+6]<<16|e[n+5]<<8|e[n+4],t[r+1]^=e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]}return t},a=function(e,t){for(var n=0;n<t.length;n+=8){var r=n/4;t[n]=e[r+1],t[n+1]=e[r+1]>>>8,t[n+2]=e[r+1]>>>16,t[n+3]=e[r+1]>>>24,t[n+4]=e[r],t[n+5]=e[r]>>>8,t[n+6]=e[r]>>>16,t[n+7]=e[r]>>>24}return t},s=function(e){var t=this,n=e.capacity,r=e.padding,s=(0,i.default)(),c=n/8,f=200-n/4,l=0,d=new Uint32Array(50),h=o.Buffer.allocUnsafe(f);return this.absorb=function(e){for(var n=0;n<e.length;n++)h[l]=e[n],(l+=1)>=f&&(u(h,d),s(d),l=0);return t},this.squeeze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={buffer:e.buffer||o.Buffer.allocUnsafe(c),padding:e.padding||r,queue:o.Buffer.allocUnsafe(h.length),state:new Uint32Array(d.length)};h.copy(t.queue);for(var n=0;n<d.length;n++)t.state[n]=d[n];t.queue.fill(0,l),t.queue[l]|=t.padding,t.queue[f-1]|=128,u(t.queue,t.state);for(var i=0;i<t.buffer.length;i+=f)s(t.state),a(t.state,t.buffer.slice(i,i+f));return t.buffer},this.reset=function(){return h.fill(0),d.fill(0),l=0,t},this};t.default=s},1298:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(6605))&&r.__esModule?r:{default:r};var i=function(e){for(var t=e.A,n=e.C,r=0;r<25;r+=5){for(var i=0;i<5;i++)(0,o.default)(t,r+i)(n,i);for(var u=0;u<5;u++){var a=2*(r+u),s=(u+1)%5*2,c=(u+2)%5*2;t[a]^=~n[s]&n[c],t[a+1]^=~n[s+1]&n[c+1]}}};t.default=i},6605:function(e){"use strict";e.exports=function(e,t){return function(n,r){var o=2*r,i=2*t;n[o]=e[i],n[o+1]=e[i+1]}}},9618:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1298)),o=a(n(6533)),i=a(n(9420)),u=a(n(7959));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){var e=new Uint32Array(10),t=new Uint32Array(10),n=new Uint32Array(2);return function(a){for(var s=0;s<24;s++)(0,u.default)({A:a,C:e,D:t,W:n}),(0,i.default)({A:a,C:e,W:n}),(0,r.default)({A:a,C:e}),(0,o.default)({A:a,roundIndex:s});e.fill(0),t.fill(0),n.fill(0)}};t.default=s},6533:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(1306))&&r.__esModule?r:{default:r};var i=function(e){var t=e.A,n=2*e.roundIndex;t[0]^=o.default[n],t[1]^=o.default[n+1]};t.default=i},1306:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);t.default=n},9420:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(6325)),o=u(n(3010)),i=u(n(6605));function u(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.A,n=e.C,u=e.W;(0,i.default)(t,1)(u,0);for(var a=0,s=0,c=0,f=32,l=0;l<24;l++){var d=r.default[l],h=o.default[l];(0,i.default)(t,d)(n,0),a=u[0],s=u[1],f=32-h,u[c=h<32?0:1]=a<<h|s>>>f,u[(c+1)%2]=s<<h|a>>>f,(0,i.default)(u,0)(t,d),(0,i.default)(n,0)(u,0)}};t.default=a},6325:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];t.default=n},3010:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];t.default=n},7959:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(6605))&&r.__esModule?r:{default:r};var i=function(e){for(var t=e.A,n=e.C,r=e.D,i=e.W,u=0,a=0,s=0;s<5;s++){var c=2*s,f=2*(s+5),l=2*(s+10),d=2*(s+15),h=2*(s+20);n[c]=t[c]^t[f]^t[l]^t[d]^t[h],n[c+1]=t[c+1]^t[f+1]^t[l+1]^t[d+1]^t[h+1]}for(var p=0;p<5;p++){(0,o.default)(n,(p+1)%5)(i,0),u=i[0],a=i[1],i[0]=u<<1|a>>>31,i[1]=a<<1|u>>>31,r[2*p]=n[(p+4)%5*2]^i[0],r[2*p+1]=n[(p+4)%5*2+1]^i[1];for(var v=0;v<25;v+=5)t[2*(v+p)]^=r[2*p],t[2*(v+p)+1]^=r[2*p+1]}};t.default=i}}]);
//# sourceMappingURL=184-ff0b47c5bee2846c.js.map